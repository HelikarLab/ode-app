{"version":3,"sources":["assets/node.png","assets/arrow.png","store/index.js","components/NavBar/index.js","components/ImportSbmlForm/index.js","components/SavedModels/index.js","components/ModelTab/Graph/GraphLegend.js","components/ModelTab/Graph/index.js","components/ModelTab/ReactionsList/index.js","components/ModelTab/MetabolitesList/index.js","utils/index.js","components/ModelTab/InfoPanel/index.js","components/ModelTab/index.js","components/Button/index.js","components/SimulationTab/SettingsPanel/index.js","components/SimulationTab/Plot/index.js","components/SimulationTab/MetabolitesPanel/CustomSwitch.js","components/SimulationTab/MetabolitesPanel/index.js","components/SimulationTab/ReactionsPanel/RatelawForm.js","components/SimulationTab/ReactionsPanel/ReactionInfo.js","components/SimulationTab/ReactionsPanel/index.js","components/SimulationTab/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","model","modelMetadata","importSbml","thunk","actions","file","formData","FormData","append","name","axios","method","url","process","data","then","res","json","JSON","parse","modelTab","setCurrentModel","initSimulation","error","err","message","getModel","payload","jsonModel","setModelMetadata","id","sbmlVersion","sbmlLevel","console","log","action","state","simulationTab","reactions","currentModel","map","reaction","ratelaw","parameters","checked","metabolitesFromModel","metabolites","metabolite","initialConcentration","compartments","saveModel","getStoreState","icmin","icmax","icstep","computed","resultData","graphData","filter","item","simulate","newReactions","forEach","Error","push","simulationPayload","time","dataPoints","modifiedData","concentrationData","updateResult","switchReaction","updateMetabolites","setRatelaw","rate","toggleMetabolite","setIcmin","setIcmax","updateIc","reactants","reactant","_","includes","products","product","store","createStore","NavBar","props","React","useState","toggle","setToggle","Navbar","color","dark","expand","NavbarBrand","href","NavbarToggler","onClick","c","Collapse","isOpen","navbar","Nav","className","NavItem","NavLink","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","DropdownMenu","right","DropdownItem","importModel","savedModels","ImportSbmlForm","closeModal","useStoreActions","Fragment","initialValues","onSubmit","values","a","toast","render","Form","handleSubmit","FormGroup","required","type","placeholder","onChange","event","setFieldValue","currentTarget","files","FormText","Button","API_URL","SavedModels","setData","useEffect","ListGroup","flush","ListGroupItem","tag","success","key","format","Date","createdAt","GraphLegend","Graph","nodes","edges","currentCompartment","dropdown","canvasWidth","setState","selectCompartment","compartment","gen","reactionNodes","generateReactionNodes","metabolitesNodes","reduce","result","label","concat","generateReactionEdges","compartmentReactions","length","metaboliteNodes","style","findNode","object","temp","node","index","reactionsEdges","reversible","source","target","this","graph","ccNetViz","document","getElementById","styles","background","minSize","maxSize","texture","require","hideSize","edge","width","arrow","aspect","reactionNode","reactantEdge","productEdge","reversibleReactantEdge","reversibleProductEdge","onChangeViewport","viewport","onLoad","getNodesCount","getEdgesCount","onDrag","onZoom","onDblClick","passiveEvts","set","draw","prevProps","prevState","remove","icon","infoCircle","UncontrolledTooltip","placement","Dropdown","height","Component","WidthProvider","ReactionsList","overflowY","setInfo","setType","MetabolitesList","prettyPrint","propertyName","InfoPanel","String","reactionString","modifiers","ResponsiveGridLayout","Responsive","ModelTab","info","modal","setModal","useStoreState","Modal","ModalHeader","ModalBody","layouts","lg","i","x","y","w","h","minW","minH","static","breakpoints","md","sm","xs","xxs","cols","rowHeight","items","onLayoutChange","draggableCancel","float","outline","disabled","buttonContent","classes","curved","loading","children","join","defaultProps","settingsSchema","Yup","shape","min","max","SettingsPanel","marginBottom","validationSchema","setSubmitting","isSubmitting","errors","row","Label","for","Col","e","value","Number","globalRatelaw","modelData","dataString","encodeURIComponent","stringify","exportAnchorElement","setAttribute","options","chart","xaxis","tickAmount","series","CustomSwitch","metaboliteId","switched","setSwitched","CustomInput","s","CSlider","Slider","createSliderWithTooltip","MetabolitesPanel","Table","borderless","hover","step","RatelawForm","element","k1","k2","k3","k4","property","parametersArr","hasOwnProperty","ReactionInfo","ReactionsPanel","reactionForRatelaw","setReactionForRatelaw","Input","SimulationTab","xss","configure","position","POSITION","BOTTOM_RIGHT","autoClose","App","importModal","setImportModal","savedModal","setSavedModal","path","component","Boolean","window","location","hostname","match","ReactDOM","Helmet","charSet","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.61d7355b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98DBg8SMBgGJhQAAAJcSURBVDjLrZO/alRREMa/mXPOvXf/BEmybhQiBDXamM7HECxU1AgW1mIlIgiClU+ghaSLElnBPICNL2Fh4b/KsKzsZt299557z5mxiFkT0UqnnOI33/fNDPCPRb83Tj162+W0eYNcetW65FzTMR/JzLt2wq/aCW++uLLy9Y+Akw/fELG5QC59SjZdbrba6LQsjrUtjs85NB2jjtqvRW+Pvbx+dvFEBAC7D1CJF4hND2wz12hpKzVYaBhaXUyxttTQo02DvJbu+4Hf+jyq1gH0AIABYOXe9lGIPAVxRmw0MUwtRzTfsDg5n+D0QkIr8wmd6WR6tpOaxPKT673PyzOA+PyGSlwGoGTdzFZqCJllZI7hmGAZlDlWx9QZe7k1A2isr0LCnpUYoaoQBfJasDMJ6E8Cdn3EsIjoTwKmVcS0itdmGWjt16QqwY1IkAAfFXkt+FZEfBp6AMBi08AHxcdhRTuTgLGX1RlAfM5gC60KiHEglyKvUgyme6pGpaDhCEGAQR4wmAaUQfBLQfDvJB+dj0mmlDRIfI6CGAAQVTEqAgwToih8VAyLiFhOPx5cYy/mu+f3w7NHuoAKCm2jDA6GCY4JtShCXWkYD0hr3zugoN5UiXfDbr8roVKtPZm5RXBVgoxDtA6VCqQqNYx2SKpyRMZsHLrEpSsPL0s5eamhNuRSNa15cNYmTpsAMaTKVfIxaazBSXbz6/P7m4cukYzbJpuuq+qTWHzvxOkQYAuinzOIiZNsRDa9I8DWX5+pe+nBstb+lkq8plWxCoDIpR+ITY9sutHffvwF/7N+AOa9Ka0q3oiBAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADkSURBVDhPlZGxDgFRFER3JXQ+gEKiEBIqrdYHqHW+jc4HSETtV4iGRhS79z53NvNYPJt9k0yx9s7MiU1UtWOeRHoMO+d6KJiJqstFskhrrrpKrKVhD0f8gKI6LsIiN8umKEiNYho6rLKtL4sCCBQicqhDwfX7KwyRYhgKhJw5t/gogEixDwW8uf7ALWNvkaIfCpZt6/OfdS9S7EL/BdevwXUvUnS/w974Wn/XvUixLVNw/VS57kWKdnkZNo3wjmfVwqFRrLkMn2uHIRybW37diAZRBRApNrZ+iQ5DpGjiq/wvSJInLsNx8D4f8OUAAAAASUVORK5CYII=\"","import { createStore, action, thunk, computed } from 'easy-peasy'\r\nimport axios from 'axios'\r\nimport _ from 'lodash'\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL\r\n  ? process.env.REACT_APP_API_URL\r\n  : 'http://localhost:5000/'\r\n\r\nconst model = {\r\n  /*\r\n   * Common global state\r\n   */\r\n  modelMetadata: {},\r\n\r\n  //thunks\r\n  importSbml: thunk((actions, file) => {\r\n    const formData = new FormData()\r\n    formData.append('file', file, file.name)\r\n    return axios({\r\n      method: 'post',\r\n      url: `${API_URL}api/uploadSbml`,\r\n      data: formData,\r\n    })\r\n      .then(res => {\r\n        const json = JSON.parse(res.data)\r\n        actions.modelTab.setCurrentModel(json)\r\n      })\r\n      .then(() => {\r\n        actions.initSimulation()\r\n        return { error: false }\r\n      })\r\n      .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n  }),\r\n  getModel: thunk((actions, payload) => {\r\n    return axios({ method: 'get', url: `${API_URL}api/model/get/${payload}` })\r\n      .then(res => {\r\n        const data = res.data.jsonModel\r\n        actions.modelTab.setCurrentModel(data)\r\n        actions.setModelMetadata({\r\n          name: data.name,\r\n          id: data.id,\r\n          sbmlVersion: data.sbmlVersion,\r\n          sbmlLevel: data.sbmlLevel,\r\n        })\r\n      })\r\n      .then(() => {\r\n        actions.initSimulation()\r\n        return { error: false, message: 'Successfully retrieved model.' }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        return { error: true, message: 'Something went wrong.' }\r\n      })\r\n  }),\r\n  //actions\r\n  initSimulation: action(state => {\r\n    state.simulationTab.reactions = state.modelTab.currentModel.reactions.map(\r\n      reaction => ({\r\n        ...reaction,\r\n        ratelaw: '',\r\n        parameters: [],\r\n        checked: false,\r\n      })\r\n    )\r\n    state.simulationTab.metabolitesFromModel = state.modelTab.currentModel.metabolites.map(\r\n      metabolite => ({ ...metabolite, initialConcentration: 0 })\r\n    )\r\n  }),\r\n  setModelMetadata: action((state, payload) => {\r\n    state.modelMetadata = {\r\n      name: payload.name,\r\n      id: payload.id,\r\n      sbmlVersion: payload.sbmlVersion,\r\n      sbmlLevel: payload.sbmlLevel,\r\n    }\r\n  }),\r\n\r\n  /*\r\n   * Model tab state\r\n   */\r\n\r\n  modelTab: {\r\n    currentModel: {\r\n      metabolites: [],\r\n      reactions: [],\r\n      compartments: [],\r\n    },\r\n    //thunks\r\n    saveModel: thunk((actions, payload, { getStoreState }) => {\r\n      const state = getStoreState()\r\n      return axios({\r\n        method: 'post',\r\n        url: `${API_URL}api/model/add`,\r\n        data: state.modelTab.currentModel,\r\n      })\r\n        .then(res => ({ message: 'Successfully saved.', error: false }))\r\n        .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n    }),\r\n    //actions\r\n    setCurrentModel: action((state, payload) => {\r\n      state.currentModel = payload\r\n    }),\r\n  },\r\n\r\n  /*\r\n   * Simulation tab state\r\n   */\r\n\r\n  simulationTab: {\r\n    icmin: 0,\r\n    icmax: 100,\r\n    icstep: computed(state => (state.icmax - state.icmin) / 100),\r\n    reactions: [],\r\n    metabolitesFromModel: [],\r\n    metabolites: [],\r\n    resultData: [],\r\n    graphData: computed(state => {\r\n      return state.resultData.filter(item => {\r\n        if (item.checked) return true\r\n        else return false\r\n      })\r\n    }),\r\n    //thunks\r\n    simulate: thunk((actions, payload, { getStoreState }) => {\r\n      const state = getStoreState()\r\n      let newReactions = []\r\n      state.simulationTab.reactions.forEach(reaction => {\r\n        if (reaction.checked === true) {\r\n          if (reaction.ratelaw === '') {\r\n            throw new Error('Ratelaw found empty for reaction: ' + reaction.id)\r\n          } else newReactions.push(reaction)\r\n        }\r\n      })\r\n      const simulationPayload = {\r\n        time: payload.time,\r\n        dataPoints: payload.dataPoints,\r\n        reactions: newReactions,\r\n        metabolites: state.simulationTab.metabolites,\r\n      }\r\n      return axios({\r\n        method: 'post',\r\n        url: `${API_URL}api/simulation`,\r\n        data: simulationPayload,\r\n      })\r\n        .then(res => {\r\n          const data = JSON.parse(res.data)\r\n          const modifiedData = data.concentrationData.map(item => ({\r\n            ...item,\r\n            checked: true,\r\n          }))\r\n          actions.updateResult(modifiedData)\r\n          return { error: false, message: 'Simulation successfull.' }\r\n        })\r\n        .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n    }),\r\n    //Switches (on/off) the reaction in the simulation\r\n    switchReaction: thunk((actions, payload, { getStoreState }) => {\r\n      let state = getStoreState()\r\n      state.simulationTab.reactions = state.simulationTab.reactions.map(\r\n        reaction => {\r\n          if (reaction.id === payload.id)\r\n            return { ...reaction, checked: !reaction.checked }\r\n          else return reaction\r\n        }\r\n      )\r\n      actions.updateMetabolites()\r\n    }),\r\n    //actions\r\n    setRatelaw: action((state, payload) => {\r\n      state.reactions = state.reactions.map(reaction => {\r\n        if (payload.id === reaction.id) {\r\n          if (payload.ratelaw === 'custom-rate') {\r\n            return {\r\n              ...reaction,\r\n              ratelaw: payload.ratelaw,\r\n              rate: payload.rate,\r\n            }\r\n          } else\r\n            return {\r\n              ...reaction,\r\n              ratelaw: payload.ratelaw,\r\n              parameters: payload.parameters,\r\n            }\r\n        } else return reaction\r\n      })\r\n    }),\r\n    toggleMetabolite: action((state, payload) => {\r\n      state.resultData = state.resultData.map(item => {\r\n        if (item.name === payload) {\r\n          return { ...item, checked: !item.checked }\r\n        } else return item\r\n      })\r\n    }),\r\n    updateResult: action((state, payload) => {\r\n      state.resultData = payload\r\n    }),\r\n    setIcmin: action((state, payload) => {\r\n      state.icmin = payload\r\n    }),\r\n    setIcmax: action((state, payload) => {\r\n      state.icmax = payload\r\n    }),\r\n    updateIc: action((state, payload) => {\r\n      state.metabolites.forEach(metabolite => {\r\n        if (metabolite.id === payload.id) {\r\n          metabolite.initialConcentration = payload.initialConcentration\r\n        }\r\n      })\r\n      state.metabolitesFromModel.forEach(metabolite => {\r\n        if (metabolite.id === payload.id) {\r\n          metabolite.initialConcentration = payload.initialConcentration\r\n        }\r\n      })\r\n    }),\r\n    // Updates the metabolites list\r\n    updateMetabolites: action((state, payload) => {\r\n      state.metabolites = []\r\n      state.reactions.map(reaction => {\r\n        if (reaction.checked) {\r\n          reaction.reactants.map(reactant => {\r\n            return state.metabolitesFromModel.map(metabolite => {\r\n              if (reactant.id === metabolite.id) {\r\n                if (!_.includes(state.metabolites, metabolite)) {\r\n                  return state.metabolites.push(metabolite)\r\n                } else {\r\n                  return false\r\n                }\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          })\r\n          return reaction.products.map(product => {\r\n            return state.metabolitesFromModel.map(metabolite => {\r\n              if (product.id === metabolite.id) {\r\n                if (!_.includes(state.metabolites, metabolite)) {\r\n                  return state.metabolites.push(metabolite)\r\n                } else {\r\n                  return false\r\n                }\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    }),\r\n  },\r\n}\r\n\r\nexport const store = createStore(model)\r\n","import React from 'react'\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap'\r\n\r\nfunction NavBar(props) {\r\n  const [toggle, setToggle] = React.useState(false)\r\n\r\n  return (\r\n    <Navbar color=\"dark\" dark expand=\"md\">\r\n      <NavbarBrand href=\"/\">ODE App</NavbarBrand>\r\n      <NavbarToggler\r\n        onClick={() => {\r\n          setToggle(c => !c)\r\n        }}\r\n      />\r\n      <Collapse isOpen={toggle} navbar>\r\n        <Nav className=\"ml-auto\" navbar>\r\n          <NavItem>\r\n            <NavLink href=\"/#/model\">Model</NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink href=\"/#/simulation\">Simulation</NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n        <Nav className=\"ml-auto\" navbar>\r\n          <UncontrolledDropdown nav inNavbar>\r\n            <DropdownToggle nav caret>\r\n              Options\r\n            </DropdownToggle>\r\n            <DropdownMenu right>\r\n              <DropdownItem onClick={props.importModel}>\r\n                Import Model\r\n              </DropdownItem>\r\n              <DropdownItem onClick={props.savedModels}>\r\n                Saved Models\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </Nav>\r\n      </Collapse>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import React from 'react'\r\nimport { Formik } from 'formik'\r\nimport { useStoreActions } from 'easy-peasy'\r\nimport { toast } from 'react-toastify'\r\nimport { Button, Form, FormText, FormGroup } from 'reactstrap'\r\n\r\nfunction ImportSbmlForm({ closeModal }) {\r\n  const importSbml = useStoreActions(actions => actions.importSbml)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Formik\r\n        initialValues={{ file: '' }}\r\n        onSubmit={async (values, actions) => {\r\n          if (values.file) {\r\n            const data = await importSbml(values.file)\r\n            if (data.error) toast.error(data.message)\r\n            else {\r\n              closeModal()\r\n            }\r\n          }\r\n        }}\r\n        render={props => (\r\n          <Form onSubmit={props.handleSubmit}>\r\n            <FormGroup>\r\n              <input\r\n                required\r\n                type=\"file\"\r\n                name=\"file\"\r\n                placeholder=\"Upload\"\r\n                onChange={event => {\r\n                  props.setFieldValue('file', event.currentTarget.files[0])\r\n                }}\r\n              />\r\n              <FormText color=\"muted\">\r\n                Please upload a .sbml or .xml file which is formatted atleast in\r\n                level 2 SBML for kinetic (ODE) models.\r\n              </FormText>\r\n            </FormGroup>\r\n            <Button color=\"primary\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ImportSbmlForm\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nimport { useStoreActions } from 'easy-peasy'\r\nimport { format } from 'date-fns'\r\nimport { toast } from 'react-toastify'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL\r\n  ? process.env.REACT_APP_API_URL\r\n  : 'http://localhost:5000/'\r\n\r\nfunction SavedModels() {\r\n  const [data, setData] = React.useState([])\r\n  const getModel = useStoreActions(actions => actions.getModel)\r\n\r\n  React.useEffect(() => {\r\n    axios({ method: 'get', url: `${API_URL}api/model/get/all` })\r\n      .then(res => setData(res.data))\r\n      .catch(err => console.error(err))\r\n  }, [])\r\n\r\n  if (data) {\r\n    return (\r\n      <ListGroup flush>\r\n        {data.map(item => (\r\n          <ListGroupItem\r\n            tag=\"button\"\r\n            action\r\n            onClick={async () => {\r\n              const data = await getModel(item.id)\r\n              if (data.error) toast.error(data.message)\r\n              else toast.success(data.message)\r\n            }}\r\n            key={item.id}\r\n          >\r\n            {item.name} -{' '}\r\n            {format(new Date(item.createdAt), 'D MMMM YYYY - hh:mm:ss A')}\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    )\r\n  } else {\r\n    return <div />\r\n  }\r\n}\r\n\r\nexport default SavedModels\r\n","import React from 'react'\r\n\r\nfunction GraphLegend() {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon blue\" />- Metabolite Nodes\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon red\" />- Reaction Nodes\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon green\" />- Reactant Edge\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon yellow\" />- Product Edge\r\n      </div>\r\n      <div className=\"flex\">--> - Reversible reactions</div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default GraphLegend\r\n","import React from 'react'\r\nimport ccNetViz from 'ccnetviz'\r\nimport _ from 'lodash'\r\nimport { WidthProvider } from 'react-grid-layout'\r\nimport {\r\n  UncontrolledTooltip,\r\n  Dropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n} from 'reactstrap'\r\nimport { Icon } from 'react-icons-kit'\r\nimport { infoCircle } from 'react-icons-kit/fa/infoCircle'\r\nimport GraphLegend from './GraphLegend'\r\nimport './style.scss'\r\n\r\nclass Graph extends React.Component {\r\n  state = {\r\n    nodes: [],\r\n    edges: [],\r\n    compartments: [],\r\n    currentCompartment: 'all',\r\n    dropdown: false,\r\n    canvasWidth: 0,\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ dropdown: !this.state.dropdown })\r\n  }\r\n\r\n  selectCompartment = compartment => {\r\n    this.setState({ currentCompartment: compartment })\r\n  }\r\n\r\n  gen = () => {\r\n    const { reactions, metabolites, compartments } = this.props\r\n    const { currentCompartment } = this.state\r\n    this.setState({ compartments })\r\n    try {\r\n      if (currentCompartment === 'all') {\r\n        let reactionNodes = this.generateReactionNodes(reactions)\r\n        let metabolitesNodes = metabolites.reduce((result, metabolite) => {\r\n          result.push({ label: metabolite.id })\r\n          return result\r\n        }, [])\r\n        let nodes = _.concat(reactionNodes, metabolitesNodes)\r\n        let edges = this.generateReactionEdges(reactions, nodes)\r\n        this.setState({ nodes, edges })\r\n      } else {\r\n        let compartmentReactions = reactions.filter(reaction => {\r\n          if (\r\n            _.includes(reaction.compartments, currentCompartment) &&\r\n            reaction.compartments.length === 1\r\n          ) {\r\n            return true\r\n          } else return false\r\n        })\r\n        let reactionNodes = this.generateReactionNodes(compartmentReactions)\r\n        let metaboliteNodes = metabolites.reduce((result, metabolite) => {\r\n          if (metabolite.compartment === currentCompartment) {\r\n            result.push({ label: metabolite.id })\r\n          }\r\n          return result\r\n        }, [])\r\n        let nodes = _.concat(reactionNodes, metaboliteNodes)\r\n        let edges = this.generateReactionEdges(compartmentReactions, nodes)\r\n        this.setState({ nodes, edges })\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  generateReactionNodes = reactions => {\r\n    const reactionNodes = reactions.map(reaction => {\r\n      return {\r\n        label: reaction.id,\r\n        style: 'reactionNode',\r\n      }\r\n    })\r\n    return reactionNodes\r\n  }\r\n\r\n  findNode = (object, nodes) => {\r\n    let temp\r\n    nodes.filter((node, index) => {\r\n      if (node.label === object.label) {\r\n        return (temp = index)\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n    return temp\r\n  }\r\n\r\n  generateReactionEdges = (reactions, nodes) => {\r\n    const reactionsEdges = []\r\n    reactions.map(reaction => {\r\n      reaction.reactants.map(reactant => {\r\n        if (reaction.reversible) {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reactant.id }, nodes)],\r\n            target: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            style: 'reversibleReactantEdge',\r\n          })\r\n        } else {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reactant.id }, nodes)],\r\n            target: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            style: 'reactantEdge',\r\n          })\r\n        }\r\n      })\r\n      return reaction.products.map(product => {\r\n        if (reaction.reversible) {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            target: nodes[this.findNode({ label: product.id }, nodes)],\r\n            style: 'reversibleProductEdge',\r\n          })\r\n        } else {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            target: nodes[this.findNode({ label: product.id }, nodes)],\r\n            style: 'productEdge',\r\n          })\r\n        }\r\n      })\r\n    })\r\n    return reactionsEdges\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ compartments: this.props.compartments })\r\n    this.graph = new ccNetViz(document.getElementById('graph'), {\r\n      styles: {\r\n        background: {\r\n          color: 'rgb(255, 255, 255)',\r\n        },\r\n        node: {\r\n          minSize: 6,\r\n          maxSize: 16,\r\n          color: 'rgb(47, 109, 206)',\r\n          texture: require('../../../assets/node.png'),\r\n          label: {\r\n            color: 'rgb(0, 0, 0)',\r\n            hideSize: 16,\r\n          },\r\n        },\r\n        edge: {\r\n          width: 1,\r\n          color: 'rgb(50, 50, 50)',\r\n          arrow: {\r\n            minSize: 1,\r\n            maxSize: 16,\r\n            aspect: 1,\r\n            texture: require('../../../assets/arrow.png'),\r\n            hideSize: 1,\r\n          },\r\n          type: 'line',\r\n        },\r\n        reactionNode: {\r\n          color: 'rgb(200, 0, 0)',\r\n          label: {\r\n            hideSize: 16,\r\n          },\r\n        },\r\n        reactantEdge: {\r\n          color: 'rgb(89, 249, 2)',\r\n        },\r\n        productEdge: {\r\n          color: 'rgb(255, 246, 0)',\r\n        },\r\n        reversibleReactantEdge: { color: 'rgb(89, 249, 2)', type: 'dashed' },\r\n        reversibleProductEdge: { color: 'rgb(255, 246, 0)', type: 'dashed' },\r\n      },\r\n      onChangeViewport: function(viewport) {},\r\n      onLoad: function() {},\r\n      getNodesCount() {},\r\n      getEdgesCount() {},\r\n      onDrag: function(viewport) {},\r\n      onZoom: function(viewport) {},\r\n      onClick: function() {\r\n        return false\r\n      },\r\n      onDblClick: function() {},\r\n      passiveEvts: true,\r\n    })\r\n\r\n    this.gen()\r\n    this.graph.set(this.state.nodes, this.state.edges, 'force').then(() => {\r\n      this.graph.draw()\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      prevProps.reactions !== this.props.reactions ||\r\n      prevProps.metabolites !== this.props.metabolites\r\n    ) {\r\n      this.setState({ currentCompartment: 'all' })\r\n    }\r\n    if (\r\n      prevProps.reactions !== this.props.reactions ||\r\n      prevProps.metabolites !== this.props.metabolites ||\r\n      prevState.currentCompartment !== this.state.currentCompartment\r\n    ) {\r\n      this.gen()\r\n    }\r\n    if (\r\n      prevState.nodes !== this.state.nodes ||\r\n      prevState.edges !== this.state.edges\r\n    ) {\r\n      this.graph.set(this.state.nodes, this.state.edges, 'force').then(() => {\r\n        this.graph.draw()\r\n      })\r\n    }\r\n    if (prevProps.width !== this.props.width) {\r\n      this.setState({ canvasWidth: this.props.width })\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.graph.remove()\r\n  }\r\n\r\n  render() {\r\n    const { compartments, canvasWidth } = this.state\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">\r\n          Graph{` `}\r\n          <Icon icon={infoCircle} id=\"graph-legend-info\" />\r\n          <UncontrolledTooltip placement=\"right\" target=\"graph-legend-info\">\r\n            <GraphLegend />\r\n          </UncontrolledTooltip>\r\n        </h4>\r\n        <Dropdown isOpen={this.state.dropdown} toggle={this.toggle}>\r\n          <DropdownToggle color=\"success\">Compartments</DropdownToggle>\r\n          <DropdownMenu>\r\n            <DropdownItem\r\n              onClick={() => {\r\n                this.selectCompartment('all')\r\n              }}\r\n            >\r\n              All\r\n            </DropdownItem>\r\n            {compartments.map(compartment => (\r\n              <DropdownItem\r\n                key={compartment.id}\r\n                onClick={() => {\r\n                  this.selectCompartment(compartment.id)\r\n                }}\r\n              >\r\n                {compartment.name}\r\n              </DropdownItem>\r\n            ))}\r\n          </DropdownMenu>\r\n        </Dropdown>\r\n        <br />\r\n        <canvas\r\n          id=\"graph\"\r\n          width={canvasWidth}\r\n          height=\"550\"\r\n          className=\"nonDraggableArea\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WidthProvider(Graph)\r\n","import React from 'react'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nfunction ReactionsList(props) {\r\n  if (props.reactions) {\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">Reactions</h4>\r\n        <ListGroup\r\n          flush\r\n          style={{ height: '250px', overflowY: 'auto' }}\r\n          className=\"nonDraggableArea\"\r\n        >\r\n          {props.reactions.map(reaction => (\r\n            <ListGroupItem\r\n              key={reaction.id}\r\n              tag=\"button\"\r\n              action\r\n              onClick={() => {\r\n                props.setInfo(reaction)\r\n                props.setType('reaction')\r\n              }}\r\n            >\r\n              {reaction.id} - {reaction.name}\r\n            </ListGroupItem>\r\n          ))}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>No data</div>\r\n  }\r\n}\r\n\r\nexport default ReactionsList\r\n","import React from 'react'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nfunction MetabolitesList(props) {\r\n  if (props.metabolites) {\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">Metabolites</h4>\r\n        <ListGroup flush style={{ height: '250px', overflowY: 'auto' }}>\r\n          {props.metabolites.map(metabolite => (\r\n            <ListGroupItem\r\n              key={metabolite.id}\r\n              tag=\"button\"\r\n              action\r\n              onClick={() => {\r\n                props.setInfo(metabolite)\r\n                props.setType('metabolite')\r\n              }}\r\n            >\r\n              {metabolite.id} - {metabolite.name}\r\n            </ListGroupItem>\r\n          ))}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>No data</div>\r\n  }\r\n}\r\n\r\nexport default MetabolitesList\r\n","export function prettyPrint(data, propertyName) {\r\n  if (propertyName) {\r\n    return data.map((item, index) => {\r\n      if (index === data.length - 1) return `${item[propertyName]}`\r\n      else return `${item[propertyName]}, `\r\n    })\r\n  } else {\r\n    return data.map((item, index) => {\r\n      if (index === data.length - 1) return `${item}`\r\n      else return `${item}, `\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { prettyPrint } from '../../../utils'\r\n\r\nfunction InfoPanel(props) {\r\n  if (props.type === 'metabolite') {\r\n    return (\r\n      <div>\r\n        <dl className=\"row nonDraggableArea\">\r\n          <dt className=\"col-sm-5\">Metabolite ID</dt>\r\n          <dd className=\"col-sm-7\">{props.data.id}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Metabolite Name</dt>\r\n          <dd className=\"col-sm-7\">{props.data.name}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Compartment</dt>\r\n          <dd className=\"col-sm-7\">{props.data.compartment}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Initial Concentration</dt>\r\n          <dd className=\"col-sm-7\">{props.data.initialConcentration}</dd>\r\n        </dl>\r\n      </div>\r\n    )\r\n  } else if (props.type === 'reaction') {\r\n    return (\r\n      <div>\r\n        <dl className=\"row nonDraggableArea\">\r\n          <dt className=\"col-sm-4\">Reaction ID</dt>\r\n          <dd className=\"col-sm-8\">{props.data.id}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reaction Name</dt>\r\n          <dd className=\"col-sm-8\">{props.data.name}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reversible</dt>\r\n          <dd className=\"col-sm-8\">{String(props.data.reversible)}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reaction</dt>\r\n          <dd className=\"col-sm-8\">{props.data.reactionString}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Modifiers</dt>\r\n          <dd className=\"col-sm-8\">{prettyPrint(props.data.modifiers)}</dd>\r\n        </dl>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <React.Fragment />\r\n  }\r\n}\r\n\r\nexport default InfoPanel\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { Responsive, WidthProvider } from 'react-grid-layout'\r\nimport Graph from './Graph'\r\nimport ReactionsList from './ReactionsList'\r\nimport MetabolitesList from './MetabolitesList'\r\nimport InfoPanel from './InfoPanel'\r\n\r\nconst ResponsiveGridLayout = WidthProvider(Responsive)\r\n\r\nfunction ModelTab() {\r\n  const [type, setType] = React.useState('')\r\n  const [info, setInfo] = React.useState({})\r\n  const [modal, setModal] = React.useState(false)\r\n\r\n  const { reactions, metabolites, name, compartments } = useStoreState(\r\n    state => state.modelTab.currentModel\r\n  )\r\n\r\n  let layouts = {\r\n    lg: [\r\n      { i: 'graph', x: 0, y: 0, w: 6, h: 14, minW: 5, minH: 14, static: true },\r\n      { i: 'reactions', x: 6, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 9, y: 0, w: 3, h: 7, minW: 4, minH: 7 },\r\n      { i: 'info', x: 6, y: 7, w: 6, h: 5, minW: 7, minH: 7 },\r\n    ],\r\n  }\r\n\r\n  const saveModel = useStoreActions(actions => actions.modelTab.saveModel)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        isOpen={modal}\r\n        toggle={() => {\r\n          setModal(!modal)\r\n        }}\r\n      >\r\n        <ModalHeader\r\n          toggle={() => {\r\n            setModal(!modal)\r\n          }}\r\n        >\r\n          Save your SBML Model\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          Are you sure?\r\n          <br />\r\n          <br />\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={async () => {\r\n              const temp = await saveModel()\r\n              if (temp.error) toast.error(temp.message)\r\n              else toast.success(temp.message)\r\n              setModal(!modal)\r\n            }}\r\n          >\r\n            Yes\r\n          </Button>\r\n          {` `}\r\n          <Button color=\"danger\" onClick={() => setModal(!modal)}>\r\n            Cancel\r\n          </Button>\r\n        </ModalBody>\r\n      </Modal>\r\n      <ResponsiveGridLayout\r\n        className=\"layout\"\r\n        layouts={layouts}\r\n        breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}\r\n        cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}\r\n        rowHeight={40}\r\n        items={4}\r\n        onLayoutChange={() => {}}\r\n        draggableCancel=\".nonDraggableArea\"\r\n      >\r\n        <div key=\"graph\">\r\n          <Graph\r\n            reactions={reactions}\r\n            metabolites={metabolites}\r\n            compartments={compartments}\r\n          />\r\n        </div>\r\n        <div key=\"reactions\">\r\n          <ReactionsList\r\n            reactions={reactions}\r\n            setInfo={setInfo}\r\n            setType={setType}\r\n          />\r\n        </div>\r\n        <div key=\"metabolites\">\r\n          <MetabolitesList\r\n            metabolites={metabolites}\r\n            setInfo={setInfo}\r\n            setType={setType}\r\n          />\r\n        </div>\r\n        <div key=\"info\">\r\n          <InfoPanel type={type} data={info} />\r\n          <Button\r\n            style={{ float: 'right' }}\r\n            outline\r\n            color=\"success\"\r\n            onClick={() => setModal(!modal)}\r\n            disabled={name ? false : true}\r\n          >\r\n            Save Model\r\n          </Button>\r\n        </div>\r\n      </ResponsiveGridLayout>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ModelTab\r\n","import React from 'react'\r\nimport ReactLoading from 'react-loading'\r\nimport PropTypes from 'prop-types'\r\nimport './style.scss'\r\n\r\nfunction Button(props) {\r\n  let classes = []\r\n  classes.push(props.className)\r\n  if (props.curved) {\r\n    classes.push('curved-button')\r\n  }\r\n  let buttonContent\r\n  if (props.loading) {\r\n    buttonContent = (\r\n      <ReactLoading\r\n        type={'bars'}\r\n        color={props.color}\r\n        height={'30px'}\r\n        width={'30px'}\r\n        className=\"button-loading-icon\"\r\n      />\r\n    )\r\n  } else {\r\n    buttonContent = props.children\r\n  }\r\n  return (\r\n    <button\r\n      type={props.type}\r\n      className={classes.join(' ')}\r\n      disabled={props.loading}\r\n      onClick={props.onClick}\r\n    >\r\n      {buttonContent}\r\n    </button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  loading: PropTypes.bool,\r\n  curved: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  color: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n}\r\n\r\nButton.defaultProps = {\r\n  loading: false,\r\n  curved: false,\r\n  type: 'button',\r\n  color: 'white',\r\n}\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport { useStoreActions, useStoreState } from 'easy-peasy'\r\nimport { Formik, Field } from 'formik'\r\nimport { Form, FormGroup, Label, Col } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport * as Yup from 'yup'\r\nimport Button from '../../Button'\r\n\r\nconst settingsSchema = Yup.object().shape({\r\n  time: Yup.number()\r\n    .min(2)\r\n    .max(1000)\r\n    .required('Required'),\r\n  dataPoints: Yup.number()\r\n    .min(2)\r\n    .max(5000)\r\n    .required('Required'),\r\n})\r\n\r\nfunction SettingsPanel() {\r\n  const { simulate, setIcmin, setIcmax } = useStoreActions(\r\n    actions => actions.simulationTab\r\n  )\r\n  const { icmin, icmax } = useStoreState(state => state.simulationTab)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n        Settings\r\n      </h4>\r\n      <Formik\r\n        className=\"nonDraggableArea\"\r\n        initialValues={{\r\n          time: 10,\r\n          dataPoints: 500,\r\n          icmin,\r\n          icmax,\r\n        }}\r\n        validationSchema={settingsSchema}\r\n        onSubmit={async (values, actions) => {\r\n          try {\r\n            const data = await simulate({\r\n              time: values.time,\r\n              dataPoints: values.dataPoints,\r\n            })\r\n            if (data.error) toast.error(data.message)\r\n            else toast.success(data.message)\r\n          } catch (err) {\r\n            toast.error(err.message)\r\n          }\r\n          actions.setSubmitting(false)\r\n        }}\r\n        render={({ handleSubmit, isSubmitting, errors, setFieldValue }) => (\r\n          <Form onSubmit={handleSubmit}>\r\n            <FormGroup row>\r\n              <Label for=\"time\" sm={5}>\r\n                Time:\r\n              </Label>\r\n              <Col sm={7}>\r\n                <Field\r\n                  className={`form-control ${errors.time ? 'is-invalid' : ''}`}\r\n                  type=\"number\"\r\n                  name=\"time\"\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"dataPoints\" sm={5}>\r\n                Data Points:\r\n              </Label>\r\n              <Col sm={7}>\r\n                <Field\r\n                  className={`form-control ${\r\n                    errors.dataPoints ? 'is-invalid' : ''\r\n                  }`}\r\n                  type=\"number\"\r\n                  name=\"dataPoints\"\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"icmin\" sm={5}>\r\n                IC Min:\r\n              </Label>\r\n              <Col sm={7}>\r\n                <Field\r\n                  className=\"form-control\"\r\n                  type=\"number\"\r\n                  name=\"icmin\"\r\n                  onChange={e => {\r\n                    setFieldValue('icmin', e.target.value)\r\n                    setIcmin(Number(e.target.value))\r\n                  }}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"icmax\" sm={5}>\r\n                IC Max:\r\n              </Label>\r\n              <Col sm={7}>\r\n                <Field\r\n                  className=\"form-control\"\r\n                  type=\"number\"\r\n                  name=\"icmax\"\r\n                  onChange={e => {\r\n                    setFieldValue('icmax', e.target.value)\r\n                    setIcmax(Number(e.target.value))\r\n                  }}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <Button\r\n              type=\"submit\"\r\n              loading={isSubmitting}\r\n              className=\"btn btn-success\"\r\n            >\r\n              Run\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SettingsPanel\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport { useStoreState } from 'easy-peasy'\r\nimport { WidthProvider } from 'react-grid-layout'\r\n\r\nfunction Plot(props) {\r\n  const data = useStoreState(state => state.simulationTab)\r\n  const modelMetadata = useStoreState(state => state.modelMetadata)\r\n\r\n  React.useEffect(() => {\r\n    let newReactions = []\r\n    data.reactions.forEach(reaction => {\r\n      if (reaction.checked === true) {\r\n        if (reaction.ratelaw === '') {\r\n          newReactions.push({ ...reaction, ratelaw: data.globalRatelaw })\r\n        } else newReactions.push(reaction)\r\n      }\r\n    })\r\n    const modelData = {\r\n      ...modelMetadata,\r\n      reactions: newReactions,\r\n      metabolites: data.metabolites,\r\n    }\r\n    const dataString =\r\n      'data:text/json;charset=utf-8,' +\r\n      encodeURIComponent(JSON.stringify(modelData))\r\n    const exportAnchorElement = document.getElementById('exportAnchorElement')\r\n    exportAnchorElement.setAttribute('href', dataString)\r\n    exportAnchorElement.setAttribute('download', 'model.json')\r\n  })\r\n\r\n  let width\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line\r\n    width = (props.width * 35) / 100\r\n  }, [props.width])\r\n\r\n  if (data.graphData) {\r\n    return (\r\n      <div>\r\n        <Chart\r\n          options={{\r\n            chart: {\r\n              id: 'apexchart-example',\r\n            },\r\n            xaxis: {\r\n              type: 'numeric',\r\n              tickAmount: 10,\r\n            },\r\n          }}\r\n          series={data.graphData}\r\n          type=\"line\"\r\n          width={width}\r\n          height={600}\r\n        />\r\n        <a\r\n          className=\"btn btn-dark\"\r\n          style={{ float: 'right' }}\r\n          id=\"exportAnchorElement\"\r\n          href=\"/\"\r\n        >\r\n          Export Data\r\n        </a>\r\n      </div>\r\n    )\r\n  } else return <div />\r\n}\r\n\r\nexport default WidthProvider(Plot)\r\n","import React from 'react'\r\nimport { CustomInput } from 'reactstrap'\r\n\r\nfunction CustomSwitch({ metaboliteId, toggle }) {\r\n  const [switched, setSwitched] = React.useState(true)\r\n\r\n  return (\r\n    <CustomInput\r\n      type=\"switch\"\r\n      id={metaboliteId}\r\n      onChange={e => {\r\n        setSwitched(s => !s)\r\n        toggle(metaboliteId)\r\n      }}\r\n      checked={switched}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CustomSwitch\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport { Table } from 'reactstrap'\r\nimport Slider from 'rc-slider'\r\nimport 'rc-slider/assets/index.css'\r\nimport CustomSwitch from './CustomSwitch'\r\n\r\nconst CSlider = Slider.createSliderWithTooltip(Slider)\r\n\r\nfunction MetabolitesPanel() {\r\n  const { metabolites, icstep, icmin, icmax } = useStoreState(\r\n    state => state.simulationTab\r\n  )\r\n\r\n  const { toggleMetabolite, updateIc } = useStoreActions(\r\n    actions => actions.simulationTab\r\n  )\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n        Metabolites\r\n      </h4>\r\n      <div\r\n        style={{ overflowY: 'auto', height: '90%' }}\r\n        className=\"nonDraggableArea shadow-inner\"\r\n      >\r\n        <Table borderless hover>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Initial Concentration</th>\r\n              <th>Show in graph</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {metabolites.map(metabolite => (\r\n              <tr key={metabolite.id}>\r\n                <th>{metabolite.id}</th>\r\n                <th>\r\n                  <CSlider\r\n                    style={{ width: 200 }}\r\n                    step={icstep}\r\n                    min={icmin}\r\n                    max={icmax}\r\n                    onChange={value => {\r\n                      updateIc({\r\n                        id: metabolite.id,\r\n                        initialConcentration: value,\r\n                      })\r\n                    }}\r\n                  />\r\n                </th>\r\n                <th>\r\n                  <CustomSwitch\r\n                    metaboliteId={metabolite.id}\r\n                    toggle={toggleMetabolite}\r\n                  />\r\n                </th>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default MetabolitesPanel\r\n","import React from 'react'\r\nimport { Button, Label } from 'reactstrap'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport { useStoreActions } from 'easy-peasy'\r\nimport _ from 'lodash'\r\nimport { prettyPrint } from '../../../utils'\r\n\r\nfunction RatelawForm({ ratelaw, reaction, closeModal }) {\r\n  const { setRatelaw } = useStoreActions(actions => actions.simulationTab)\r\n  let element\r\n  switch (ratelaw) {\r\n    case 'mass-action':\r\n      if (reaction.reversible) {\r\n        element = (\r\n          <React.Fragment>\r\n            <Label>Forward Parameter (k1):</Label>\r\n            <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n            <Label>Backward Parameter (k2):</Label>\r\n            <Field className=\"form-control\" name=\"k2\" type=\"number\" />\r\n          </React.Fragment>\r\n        )\r\n      } else {\r\n        element = (\r\n          <React.Fragment>\r\n            <Label>Parameter (k1):</Label>\r\n            <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n      break\r\n    case 'michaelis-menten':\r\n      if (reaction.reversible) {\r\n        element = (\r\n          <React.Fragment>\r\n            <Label>Vfmax:</Label>\r\n            <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n            <Label>Vrmax:</Label>\r\n            <Field className=\"form-control\" name=\"k2\" type=\"number\" />\r\n            <Label>KSm:</Label>\r\n            <Field className=\"form-control\" name=\"k3\" type=\"number\" />\r\n            <Label>KPm:</Label>\r\n            <Field className=\"form-control\" name=\"k4\" type=\"number\" />\r\n          </React.Fragment>\r\n        )\r\n      } else {\r\n        element = (\r\n          <React.Fragment>\r\n            <Label>Vmax:</Label>\r\n            <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n            <Label>Km:</Label>\r\n            <Field className=\"form-control\" name=\"k2\" type=\"number\" />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n      break\r\n    case 'hill-equation':\r\n      element = (\r\n        <React.Fragment>\r\n          <Label>Vmax:</Label>\r\n          <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n          <Label>\r\n            K<sub>0.5</sub>:\r\n          </Label>\r\n          <Field className=\"form-control\" name=\"k2\" type=\"number\" />\r\n          <Label>Hill coefficient:</Label>\r\n          <Field className=\"form-control\" name=\"k3\" type=\"number\" />\r\n        </React.Fragment>\r\n      )\r\n      break\r\n    case 'custom-rate':\r\n      element = (\r\n        <React.Fragment>\r\n          <div>\r\n            Metabolites available:{' '}\r\n            {prettyPrint(_.concat(reaction.reactants, reaction.products), 'id')}\r\n          </div>\r\n          <Label>Custom Rate:</Label>\r\n          <Field className=\"form-control\" name=\"rate\" type=\"text\" />\r\n          <p>For example: 0.5 * some_metabolite</p>\r\n        </React.Fragment>\r\n      )\r\n      break\r\n    default:\r\n      break\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          k1: 0,\r\n          k2: 0,\r\n          k3: 0,\r\n          k4: 0,\r\n          rate: '',\r\n        }}\r\n        onSubmit={async (values, actions) => {\r\n          if (ratelaw === 'custom-rate') {\r\n            setRatelaw({\r\n              id: reaction.id,\r\n              ratelaw,\r\n              rate: values.rate,\r\n            })\r\n          } else {\r\n            let parameters = values\r\n            let parametersArr = []\r\n            for (let property in parameters) {\r\n              if (parameters.hasOwnProperty(property)) {\r\n                parametersArr.push(parameters[property])\r\n              }\r\n            }\r\n\r\n            setRatelaw({\r\n              id: reaction.id,\r\n              ratelaw,\r\n              parameters: parametersArr,\r\n            })\r\n          }\r\n          closeModal()\r\n        }}\r\n        render={({ handleSubmit }) => (\r\n          <Form onSubmit={handleSubmit}>\r\n            {element}\r\n            <br />\r\n            <Button type=\"submit\" className=\"btn btn-success\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RatelawForm\r\n","import React from 'react'\r\nimport { prettyPrint } from '../../../utils'\r\n\r\nfunction ReactionInfo({ reaction }) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"flex\">Name: {reaction.name}</div>\r\n      <div className=\"flex\">ID: {reaction.id}</div>\r\n      <div className=\"flex\">Reversible: {String(reaction.reversible)}</div>\r\n      <div className=\"flex\">Modifiers: {prettyPrint(reaction.modifiers)}</div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ReactionInfo\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport {\r\n  CustomInput,\r\n  Table,\r\n  Input,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  UncontrolledTooltip,\r\n} from 'reactstrap'\r\nimport { Icon } from 'react-icons-kit'\r\nimport { infoCircle } from 'react-icons-kit/fa/infoCircle'\r\nimport RatelawForm from './RatelawForm'\r\nimport ReactionInfo from './ReactionInfo'\r\n\r\nfunction ReactionsPanel() {\r\n  const [modal, setModal] = React.useState(false)\r\n  const [reactionForRatelaw, setReactionForRatelaw] = React.useState({})\r\n  const [ratelaw, setRatelaw] = React.useState('')\r\n\r\n  const reactions = useStoreState(\r\n    state => state.modelTab.currentModel.reactions\r\n  )\r\n\r\n  const { switchReaction } = useStoreActions(actions => actions.simulationTab)\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        isOpen={modal}\r\n        toggle={() => {\r\n          setModal(!modal)\r\n        }}\r\n        className=\"nonDraggableArea\"\r\n      >\r\n        <ModalHeader>Set Ratelaw</ModalHeader>\r\n        <ModalBody>\r\n          <RatelawForm\r\n            ratelaw={ratelaw}\r\n            reaction={reactionForRatelaw}\r\n            closeModal={() => setModal(false)}\r\n          />\r\n        </ModalBody>\r\n      </Modal>\r\n      <div style={{ height: '90%' }}>\r\n        <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n          Reactions\r\n        </h4>\r\n        <div\r\n          style={{ overflowY: 'auto', height: '85%' }}\r\n          className=\"shadow-inner nonDraggableArea\"\r\n        >\r\n          <Table borderless hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Toggle</th>\r\n                <th>Reaction String</th>\r\n                <th>Ratelaw</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reactions.map(reaction => (\r\n                <tr key={reaction.id}>\r\n                  <th>\r\n                    <CustomInput\r\n                      type=\"switch\"\r\n                      id={reaction.id}\r\n                      onChange={() => {\r\n                        switchReaction(reaction)\r\n                      }}\r\n                    />\r\n                  </th>\r\n\r\n                  <th>\r\n                    {reaction.id}: {reaction.reactionString}{' '}\r\n                    <Icon icon={infoCircle} id={`${reaction.id}-info`} />\r\n                    <UncontrolledTooltip\r\n                      placement=\"right\"\r\n                      target={`${reaction.id}-info`}\r\n                    >\r\n                      <ReactionInfo reaction={reaction} />\r\n                    </UncontrolledTooltip>\r\n                  </th>\r\n                  <th>\r\n                    <Input\r\n                      onChange={e => {\r\n                        if (!(e.target.value === '')) setModal(!modal)\r\n                        setRatelaw(e.target.value)\r\n                        setReactionForRatelaw(reaction)\r\n                      }}\r\n                      type=\"select\"\r\n                    >\r\n                      <option value=\"\">Set a ratelaw!</option>\r\n                      <option value=\"mass-action\">Mass Action</option>\r\n                      {reaction.modifiers.length === 0 ||\r\n                      (reaction.reactants.length > 1 ||\r\n                        reaction.products.length > 1) ? (\r\n                        <React.Fragment />\r\n                      ) : (\r\n                        <option value=\"michaelis-menten\">\r\n                          Michaelis Menten\r\n                        </option>\r\n                      )}\r\n                      {reaction.modifiers.length === 0 ||\r\n                      (reaction.reactants.length > 1 ||\r\n                        reaction.products.length > 1) ||\r\n                      reaction.reversible ? (\r\n                        <React.Fragment />\r\n                      ) : (\r\n                        <option value=\"hill-equation\">\r\n                          Hill Kinetics Equation\r\n                        </option>\r\n                      )}\r\n                      <option value=\"custom-rate\">Custom Rate</option>\r\n                    </Input>\r\n                  </th>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ReactionsPanel\r\n","import React from 'react'\r\nimport SettingsPanel from './SettingsPanel'\r\nimport Plot from './Plot'\r\nimport MetabolitesPanel from './MetabolitesPanel'\r\nimport ReactionsPanel from './ReactionsPanel'\r\nimport { Responsive, WidthProvider } from 'react-grid-layout'\r\nimport './style.scss'\r\n\r\nconst ResponsiveGridLayout = WidthProvider(Responsive)\r\n\r\nfunction SimulationTab() {\r\n  let layouts = {\r\n    lg: [\r\n      { i: 'settings', x: 0, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 3, y: 0, w: 4, h: 7, minW: 4, minH: 7 },\r\n      { i: 'plot', x: 7, y: 0, w: 5, h: 14, minW: 5, minH: 14 },\r\n      { i: 'reactions', x: 0, y: 8, w: 7, h: 6, minW: 7, minH: 7 },\r\n    ],\r\n    md: [\r\n      { i: 'settings', x: 0, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 3, y: 0, w: 4, h: 7, minW: 4, minH: 7 },\r\n      { i: 'plot', x: 7, y: 0, w: 5, h: 15, minW: 5, minH: 14 },\r\n      { i: 'reactions', x: 0, y: 8, w: 7, h: 6, minW: 7, minH: 7 },\r\n    ],\r\n    sm: [\r\n      { i: 'settings', x: 0, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 3, y: 0, w: 4, h: 7, minW: 4, minH: 7 },\r\n      { i: 'plot', x: 7, y: 0, w: 5, h: 15, minW: 5, minH: 14 },\r\n      { i: 'reactions', x: 0, y: 8, w: 7, h: 6, minW: 7, minH: 7 },\r\n    ],\r\n    xs: [\r\n      { i: 'settings', x: 0, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 3, y: 0, w: 4, h: 7, minW: 4, minH: 7 },\r\n      { i: 'plot', x: 7, y: 0, w: 5, h: 15, minW: 5, minH: 14 },\r\n      { i: 'reactions', x: 0, y: 8, w: 7, h: 6, minW: 7, minH: 7 },\r\n    ],\r\n    xss: [\r\n      { i: 'settings', x: 0, y: 0, w: 3, h: 7, minW: 3, minH: 7 },\r\n      { i: 'metabolites', x: 3, y: 0, w: 4, h: 7, minW: 4, minH: 7 },\r\n      { i: 'plot', x: 7, y: 0, w: 5, h: 15, minW: 5, minH: 14 },\r\n      { i: 'reactions', x: 0, y: 8, w: 7, h: 6, minW: 7, minH: 7 },\r\n    ],\r\n  }\r\n  return (\r\n    <ResponsiveGridLayout\r\n      className=\"layout\"\r\n      layouts={layouts}\r\n      breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}\r\n      cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}\r\n      rowHeight={40}\r\n      items={4}\r\n      onLayoutChange={() => {}}\r\n      draggableCancel=\".nonDraggableArea\"\r\n    >\r\n      <div key=\"settings\">\r\n        <SettingsPanel />\r\n      </div>\r\n      <div key=\"metabolites\">\r\n        <MetabolitesPanel />\r\n      </div>\r\n      <div key=\"plot\">\r\n        <Plot />\r\n      </div>\r\n      <div key=\"reactions\">\r\n        <ReactionsPanel />\r\n      </div>\r\n    </ResponsiveGridLayout>\r\n  )\r\n}\r\n\r\nexport default SimulationTab\r\n","import React from 'react'\r\nimport { HashRouter, Switch, Route } from 'react-router-dom'\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport NavBar from './components/NavBar'\r\nimport ImportSbmlForm from './components/ImportSbmlForm'\r\nimport SavedModels from './components/SavedModels'\r\nimport ModelTab from './components/ModelTab'\r\nimport SimulationTab from './components/SimulationTab/'\r\n\r\ntoast.configure({\r\n  position: toast.POSITION.BOTTOM_RIGHT,\r\n  autoClose: 2000,\r\n})\r\n\r\nfunction App() {\r\n  const [importModal, setImportModal] = React.useState(false)\r\n  const [savedModal, setSavedModal] = React.useState(false)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <HashRouter>\r\n        <NavBar\r\n          importModel={() => setImportModal(!importModal)}\r\n          savedModels={() => setSavedModal(!importModal)}\r\n        />\r\n        <Modal isOpen={importModal} toggle={() => setImportModal(!importModal)}>\r\n          <ModalHeader toggle={() => setImportModal(!importModal)}>\r\n            Import an existing SBML Model\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <ImportSbmlForm closeModal={() => setImportModal(!importModal)} />\r\n          </ModalBody>\r\n        </Modal>\r\n        <Modal isOpen={savedModal} toggle={() => setSavedModal(!savedModal)}>\r\n          <ModalHeader toggle={() => setSavedModal(!savedModal)}>\r\n            Saved Models\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <SavedModels />\r\n          </ModalBody>\r\n        </Modal>\r\n        <Switch>\r\n          <Route path=\"/simulation\" component={SimulationTab} />\r\n          <Route path=\"/\" component={ModelTab} />\r\n        </Switch>\r\n      </HashRouter>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { StoreProvider } from 'easy-peasy'\nimport { store } from './store'\nimport { Helmet } from 'react-helmet'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './index.scss'\n\nReactDOM.render(\n  <StoreProvider store={store}>\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>ODE-APP</title>\n    </Helmet>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}