(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{293:function(e,t,a){e.exports=a(647)},444:function(e,t,a){},445:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98DBg8SMBgGJhQAAAJcSURBVDjLrZO/alRREMa/mXPOvXf/BEmybhQiBDXamM7HECxU1AgW1mIlIgiClU+ghaSLElnBPICNL2Fh4b/KsKzsZt299557z5mxiFkT0UqnnOI33/fNDPCPRb83Tj162+W0eYNcetW65FzTMR/JzLt2wq/aCW++uLLy9Y+Akw/fELG5QC59SjZdbrba6LQsjrUtjs85NB2jjtqvRW+Pvbx+dvFEBAC7D1CJF4hND2wz12hpKzVYaBhaXUyxttTQo02DvJbu+4Hf+jyq1gH0AIABYOXe9lGIPAVxRmw0MUwtRzTfsDg5n+D0QkIr8wmd6WR6tpOaxPKT673PyzOA+PyGSlwGoGTdzFZqCJllZI7hmGAZlDlWx9QZe7k1A2isr0LCnpUYoaoQBfJasDMJ6E8Cdn3EsIjoTwKmVcS0itdmGWjt16QqwY1IkAAfFXkt+FZEfBp6AMBi08AHxcdhRTuTgLGX1RlAfM5gC60KiHEglyKvUgyme6pGpaDhCEGAQR4wmAaUQfBLQfDvJB+dj0mmlDRIfI6CGAAQVTEqAgwToih8VAyLiFhOPx5cYy/mu+f3w7NHuoAKCm2jDA6GCY4JtShCXWkYD0hr3zugoN5UiXfDbr8roVKtPZm5RXBVgoxDtA6VCqQqNYx2SKpyRMZsHLrEpSsPL0s5eamhNuRSNa15cNYmTpsAMaTKVfIxaazBSXbz6/P7m4cukYzbJpuuq+qTWHzvxOkQYAuinzOIiZNsRDa9I8DWX5+pe+nBstb+lkq8plWxCoDIpR+ITY9sutHffvwF/7N+AOa9Ka0q3oiBAAAAAElFTkSuQmCC"},446:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADkSURBVDhPlZGxDgFRFER3JXQ+gEKiEBIqrdYHqHW+jc4HSETtV4iGRhS79z53NvNYPJt9k0yx9s7MiU1UtWOeRHoMO+d6KJiJqstFskhrrrpKrKVhD0f8gKI6LsIiN8umKEiNYho6rLKtL4sCCBQicqhDwfX7KwyRYhgKhJw5t/gogEixDwW8uf7ALWNvkaIfCpZt6/OfdS9S7EL/BdevwXUvUnS/w974Wn/XvUixLVNw/VS57kWKdnkZNo3wjmfVwqFRrLkMn2uHIRybW37diAZRBRApNrZ+iQ5DpGjiq/wvSJInLsNx8D4f8OUAAAAASUVORK5CYII="},580:function(e,t,a){},646:function(e,t,a){},647:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(12),c=a.n(l),o=a(8),i=a(43),m=a(59),s=a.n(m),u=a(162),d=a.n(u),f={modelMetadata:{},importSbml:Object(o.e)(function(e,t){var a=new FormData;return a.append("file",t,t.name),s()({method:"post",url:"".concat("/","api/uploadSbml"),data:a}).then(function(t){var a=JSON.parse(t.data);e.modelTab.setCurrentModel(a)}).then(function(){return e.initSimulation(),{error:!1}}).catch(function(e){return{message:"Something went wrong.",error:!0}})}),getModel:Object(o.e)(function(e,t){return s()({method:"get",url:"".concat("/","api/model/get/").concat(t)}).then(function(t){var a=t.data.jsonModel;e.modelTab.setCurrentModel(a),e.setModelMetadata({name:a.name,id:a.id,sbmlVersion:a.sbmlVersion,sbmlLevel:a.sbmlLevel})}).then(function(){return e.initSimulation(),{error:!1,message:"Successfully retrieved model."}}).catch(function(e){return console.log(e),{error:!0,message:"Something went wrong."}})}),initSimulation:Object(o.b)(function(e){e.simulationTab.reactions=e.modelTab.currentModel.reactions.map(function(e){return Object(i.a)({},e,{ratelaw:"",parameters:[],checked:!1})}),e.simulationTab.metabolitesFromModel=e.modelTab.currentModel.metabolites}),setModelMetadata:Object(o.b)(function(e,t){e.modelMetadata={name:t.name,id:t.id,sbmlVersion:t.sbmlVersion,sbmlLevel:t.sbmlLevel}}),modelTab:{currentModel:{metabolites:[],reactions:[]},saveModel:Object(o.e)(function(e,t,a){var n=(0,a.getStoreState)();return s()({method:"post",url:"".concat("/","api/model/add"),data:n.modelTab.currentModel}).then(function(e){return{message:"Successfully saved.",error:!1}}).catch(function(e){return{message:"Something went wrong.",error:!0}})}),setCurrentModel:Object(o.b)(function(e,t){e.currentModel=t})},simulationTab:{icmin:0,icmax:100,icstep:Object(o.c)(function(e){return(e.icmax-e.icmin)/100}),reactions:[],metabolitesFromModel:[],metabolites:[],resultData:[],graphData:Object(o.c)(function(e){return e.resultData.filter(function(e){return!!e.checked})}),simulate:Object(o.e)(function(e,t,a){var n=(0,a.getStoreState)(),r=[];n.simulationTab.reactions.forEach(function(e){if(!0===e.checked){if(""===e.ratelaw)throw new Error("Ratelaw found empty for reaction: "+e.id);r.push(e)}});var l={time:t.time,dataPoints:t.dataPoints,reactions:r,metabolites:n.simulationTab.metabolites};return s()({method:"post",url:"".concat("/","api/simulation"),data:l}).then(function(t){var a=JSON.parse(t.data).concentrationData.map(function(e){return Object(i.a)({},e,{checked:!0})});return e.updateResult(a)}).catch(function(e){return{message:"Something went wrong.",error:!0}})}),switchReaction:Object(o.e)(function(e,t,a){var n=(0,a.getStoreState)();n.simulationTab.reactions=n.simulationTab.reactions.map(function(e){return e.id===t.id?Object(i.a)({},e,{checked:!e.checked}):e}),e.updateMetabolites()}),setRatelaw:Object(o.b)(function(e,t){e.reactions=e.reactions.map(function(e){return t.id===e.id?Object(i.a)({},e,{ratelaw:t.ratelaw,parameters:t.parameters}):e})}),toggleMetabolite:Object(o.b)(function(e,t){e.resultData=e.resultData.map(function(e){return e.name===t?Object(i.a)({},e,{checked:!e.checked}):e})}),updateResult:Object(o.b)(function(e,t){e.resultData=t}),setIcmin:Object(o.b)(function(e,t){e.icmin=t}),setIcmax:Object(o.b)(function(e,t){e.icmax=t}),updateIc:Object(o.b)(function(e,t){e.metabolites.forEach(function(e){e.id===t.id&&(e.initialConcentration=t.initialConcentration)})}),updateMetabolites:Object(o.b)(function(e,t){e.metabolites=[],e.reactions.map(function(t){return!!t.checked&&(t.reactants.map(function(t){return e.metabolitesFromModel.map(function(a){return t.id===a.id&&(!d.a.includes(e.metabolites,a)&&e.metabolites.push(a))})}),t.products.map(function(t){return e.metabolitesFromModel.map(function(a){return t.id===a.id&&(!d.a.includes(e.metabolites,a)&&e.metabolites.push(a))})}))})})}},E=Object(o.d)(f),b=a(272),h=a(21),g=a(290),p=a(49),v=a(670),A=a(659),w=a(660),y=a(27),S=(a(319),a(648)),N=a(649),O=a(650),x=a(651),k=a(652),j=a(653);var M=function(e){var t=r.a.useState("model"),a=Object(h.a)(t,2),n=a[0],l=a[1];return r.a.createElement(S.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(N.a,{href:"/"},"ODE App"),r.a.createElement(O.a,{navbar:!0},r.a.createElement(x.a,null,r.a.createElement(k.a,{active:"model"===n,onClick:function(){l("model")},href:"/#/model"},"Model")),r.a.createElement(x.a,null,r.a.createElement(k.a,{active:"simulation"===n,onClick:function(){l("simulation")},href:"/#/simulation"},"Simulation"))),r.a.createElement(O.a,{className:"ml-auto",navbar:!0},r.a.createElement(x.a,{style:{marginRight:20}},r.a.createElement(j.a,{color:"primary",onClick:e.importModel},"Import Model")),r.a.createElement(x.a,null,r.a.createElement(j.a,{color:"info",onClick:e.savedModels},"Saved Models"))))},C=a(22),R=a.n(C),D=a(39),I=a(24),T=a(654),B=a(655),P=a(656);var L=function(e){var t=e.closeModal,a=Object(o.f)(function(e){return e.importSbml});return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.c,{initialValues:{file:""},onSubmit:function(){var e=Object(D.a)(R.a.mark(function e(n,r){var l;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.file){e.next=5;break}return e.next=3,a(n.file);case 3:(l=e.sent).error?y.a.error(l.message):t();case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),render:function(e){return r.a.createElement(T.a,{onSubmit:e.handleSubmit},r.a.createElement(B.a,null,r.a.createElement("input",{required:!0,type:"file",name:"file",placeholder:"Upload",onChange:function(t){e.setFieldValue("file",t.currentTarget.files[0])}}),r.a.createElement(P.a,{color:"muted"},"Please upload a .sbml or .xml file which is formatted atleast in level 2 SBML for kinetic (ODE) models.")),r.a.createElement(j.a,{color:"primary",type:"submit"},"Submit"))}}))},F=a(277),Y=a(657),U=a(658),V="/";var q=function(){var e=r.a.useState([]),t=Object(h.a)(e,2),a=t[0],n=t[1],l=Object(o.f)(function(e){return e.getModel});return r.a.useEffect(function(){s()({method:"get",url:"".concat(V,"api/model/get/all")}).then(function(e){return n(e.data)}).catch(function(e){return console.error(e)})},[]),a?r.a.createElement(Y.a,{flush:!0},a.map(function(e){return r.a.createElement(U.a,{tag:"button",action:!0,onClick:Object(D.a)(R.a.mark(function t(){var a;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.id);case 2:(a=t.sent).error?y.a.error(a.message):y.a.success(a.message);case 4:case"end":return t.stop()}},t)})),key:e.id},e.name," -"," ",Object(F.format)(new Date(e.createdAt),"D MMMM YYYY - hh:mm:ss A"))})):r.a.createElement("div",null)},Q=a(661),z=a(662),K=a(278),J=a(279),W=a(291),G=a(280),Z=a(292),H=a(281),X=a.n(H),$=a(669),_=a(282),ee=a(283);var te=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"circle-icon blue"}),"- Metabolite Nodes"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"circle-icon red"}),"- Reaction Nodes"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"circle-icon green"}),"- Reactant Edge"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"circle-icon yellow"}),"- Product Edge"),r.a.createElement("div",{className:"flex"},"--\x3e - Reversible reactions"))},ae=(a(444),function(e){function t(){var e,a;Object(K.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(W.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={nodes:[],edges:[]},a.gen=function(){var e=a.props,t=e.reactions,n=e.metabolites;try{for(var r=a.generateReactionNodes(t),l=[],c=0;c<n.length;c++)l.push({label:n[c].id});r.map(function(e){return l.push(e)});var o=a.generateReactionEdges(t,l);a.setState({nodes:l,edges:o})}catch(i){}},a.generateReactionNodes=function(e){return e.map(function(e){return{label:e.id,style:"reactionNode"}})},a.findNode=function(e,t){var a;return t.filter(function(t,n){return t.label===e.label&&(a=n)}),a},a.generateReactionEdges=function(e,t){var n=[];return e.map(function(e){return e.reactants.map(function(r){return e.reversible?n.push({source:t[a.findNode({label:r.id},t)],target:t[a.findNode({label:e.id},t)],style:"reversibleReactantEdge"}):n.push({source:t[a.findNode({label:r.id},t)],target:t[a.findNode({label:e.id},t)],style:"reactantEdge"})}),e.products.map(function(r){return e.reversible?n.push({source:t[a.findNode({label:e.id},t)],target:t[a.findNode({label:r.id},t)],style:"reversibleProductEdge"}):n.push({source:t[a.findNode({label:e.id},t)],target:t[a.findNode({label:r.id},t)],style:"productEdge"})})}),n},a}return Object(Z.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){this.graph=new X.a(document.getElementById("graph"),{styles:{background:{color:"rgb(255, 255, 255)"},node:{minSize:6,maxSize:16,color:"rgb(47, 109, 206)",texture:a(445),label:{color:"rgb(0, 0, 0)",hideSize:16}},edge:{width:1,color:"rgb(50, 50, 50)",arrow:{minSize:1,maxSize:16,aspect:1,texture:a(446),hideSize:1},type:"line"},reactionNode:{color:"rgb(200, 0, 0)",label:{hideSize:16}},reactantEdge:{color:"rgb(89, 249, 2)"},productEdge:{color:"rgb(255, 246, 0)"},reversibleReactantEdge:{color:"rgb(89, 249, 2)",type:"dashed"},reversibleProductEdge:{color:"rgb(255, 246, 0)",type:"dashed"}},onChangeViewport:function(e){},onLoad:function(){},getNodesCount:function(){},getEdgesCount:function(){},onDrag:function(e){},onZoom:function(e){},onClick:function(){return!1},onDblClick:function(){},passiveEvts:!0}),this.gen(),this.graph.set(this.state.nodes,this.state.edges,"force"),this.graph.draw()}},{key:"componentDidUpdate",value:function(e,t){this.graph.draw(),e.reactions===this.props.reactions&&e.metabolites===this.props.metabolites||this.gen(),t!==this.state&&(this.graph.set(this.state.nodes,this.state.edges,"force"),this.graph.draw())}},{key:"componentWillUnmount",value:function(){this.graph.remove()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",{className:"text-muted"},"Graph"," ",r.a.createElement(_.Icon,{icon:ee.infoCircle,id:"graph-legend-info"}),r.a.createElement($.a,{placement:"right",target:"graph-legend-info"},r.a.createElement(te,null))),r.a.createElement("canvas",{id:"graph",width:"600",height:"550",className:"graph-canvas"}))}}]),t}(r.a.Component));var ne=function(e){return e.reactions?r.a.createElement("div",null,r.a.createElement("h4",{className:"text-muted"},"Reactions"),r.a.createElement(Y.a,{style:{height:"250px",overflowY:"scroll"}},e.reactions.map(function(t){return r.a.createElement(U.a,{key:t.id,tag:"button",action:!0,onClick:function(){e.setInfo(t),e.setType("reaction")}},t.id," - ",t.name)}))):r.a.createElement("div",null,"No data")};var re=function(e){return e.metabolites?r.a.createElement("div",null,r.a.createElement("h4",{className:"text-muted"},"Metabolites"),r.a.createElement(Y.a,{style:{height:"250px",overflowY:"scroll"}},e.metabolites.map(function(t){return r.a.createElement(U.a,{key:t.id,tag:"button",action:!0,onClick:function(){e.setInfo(t),e.setType("metabolite")}},t.id," - ",t.name)}))):r.a.createElement("div",null,"No data")};var le=function(e){return"metabolite"===e.type?r.a.createElement("div",null,r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-5"},"Metabolite ID"),r.a.createElement("dd",{className:"col-sm-7"},e.data.id),r.a.createElement("dt",{className:"col-sm-5"},"Metabolite Name"),r.a.createElement("dd",{className:"col-sm-7"},e.data.name),r.a.createElement("dt",{className:"col-sm-5"},"Charge"),r.a.createElement("dd",{className:"col-sm-7"},e.data.charge),r.a.createElement("dt",{className:"col-sm-5"},"Initial Concentration"),r.a.createElement("dd",{className:"col-sm-7"},e.data.initialConcentration))):"reaction"===e.type?r.a.createElement("div",null,r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-4"},"Reaction ID"),r.a.createElement("dd",{className:"col-sm-8"},e.data.id),r.a.createElement("dt",{className:"col-sm-4"},"Reaction Name"),r.a.createElement("dd",{className:"col-sm-8"},e.data.name),r.a.createElement("dt",{className:"col-sm-4"},"Reversible"),r.a.createElement("dd",{className:"col-sm-8"},String(e.data.reversible)),r.a.createElement("dt",{className:"col-sm-4"},"Reaction"),r.a.createElement("dd",{className:"col-sm-8"},e.data.reactionString))):r.a.createElement("div",null)};var ce=function(){var e=r.a.useState(""),t=Object(h.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),c=Object(h.a)(l,2),i=c[0],m=c[1],s=r.a.useState(!1),u=Object(h.a)(s,2),d=u[0],f=u[1],E=Object(o.g)(function(e){return e.modelTab.currentModel}),b=E.reactions,g=E.metabolites,p=E.name,S=Object(o.f)(function(e){return e.modelTab.saveModel});return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{isOpen:d,toggle:function(){f(!d)}},r.a.createElement(A.a,{toggle:function(){f(!d)}},"Save your SBML Model"),r.a.createElement(w.a,null,"Are you sure?",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.a,{color:"primary",onClick:Object(D.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(t=e.sent).error?y.a.error(t.message):y.a.success(t.message),f(!d);case 5:case"end":return e.stop()}},e)}))},"Yes")," ",r.a.createElement(j.a,{color:"danger",onClick:function(){return f(!d)}},"Cancel"))),r.a.createElement(Q.a,{style:{padding:20}},r.a.createElement(z.a,{md:"5"},r.a.createElement(ae,{reactions:b,metabolites:g})),r.a.createElement(z.a,{md:"7"},r.a.createElement(Q.a,null,r.a.createElement(z.a,null,r.a.createElement(ne,{reactions:b,setInfo:m,setType:n})),r.a.createElement(z.a,null,r.a.createElement(re,{metabolites:g,setInfo:m,setType:n}))),r.a.createElement(Q.a,{style:{marginTop:30}},r.a.createElement(z.a,null,r.a.createElement(le,{type:a,data:i})),r.a.createElement(z.a,null,r.a.createElement(j.a,{style:{float:"right"},outline:!0,color:"success",onClick:function(){return f(!d)},disabled:!p},"Save Model"))),r.a.createElement(Q.a,null,r.a.createElement(z.a,null)))))},oe=a(663),ie=a(664),me=a(665),se=a(118),ue=a(285),de=a.n(ue);a(580);function fe(e){var t,a=[];return a.push(e.className),e.curved&&a.push("curved-button"),t=e.loading?r.a.createElement(de.a,{type:"bars",color:e.color,height:"30px",width:"30px",className:"button-loading-icon"}):e.children,r.a.createElement("button",{type:e.type,className:a.join(" "),disabled:e.loading,onClick:e.onClick},t)}fe.defaultProps={loading:!1,curved:!1,type:"button",color:"white"};var Ee=fe,be=se.object().shape({time:se.number().min(2).max(1e3).required("Required"),dataPoints:se.number().min(2).max(5e3).required("Required")});var he=function(){var e=Object(o.f)(function(e){return e.simulationTab}),t=e.simulate,a=e.setIcmin,n=e.setIcmax,l=Object(o.g)(function(e){return e.simulationTab}),c=l.icmin,i=l.icmax;return r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,r.a.createElement("h4",{className:"text-muted",style:{marginBottom:20}},"Settings"),r.a.createElement(I.c,{initialValues:{time:0,dataPoints:500,icmin:c,icmax:i},validationSchema:be,onSubmit:function(){var e=Object(D.a)(R.a.mark(function e(a,n){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({time:a.time,dataPoints:a.dataPoints});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),y.a.error(e.t0.message);case 8:n.setSubmitting(!1);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),render:function(e){var t=e.handleSubmit,l=e.isSubmitting,c=e.errors,o=e.setFieldValue;return r.a.createElement(T.a,{onSubmit:t},r.a.createElement(B.a,{row:!0},r.a.createElement(me.a,{for:"time",sm:5},"Time:"),r.a.createElement(z.a,{sm:7},r.a.createElement(I.a,{className:"form-control ".concat(c.time?"is-invalid":""),type:"number",name:"time"}))),r.a.createElement(B.a,{row:!0},r.a.createElement(me.a,{for:"dataPoints",sm:5},"Data Points:"),r.a.createElement(z.a,{sm:7},r.a.createElement(I.a,{className:"form-control ".concat(c.dataPoints?"is-invalid":""),type:"number",name:"dataPoints"}))),r.a.createElement(B.a,{row:!0},r.a.createElement(me.a,{for:"icmin",sm:5},"IC Min:"),r.a.createElement(z.a,{sm:7},r.a.createElement(I.a,{className:"form-control",type:"number",name:"icmin",onChange:function(e){o("icmin",e.target.value),a(Number(e.target.value))}}))),r.a.createElement(B.a,{row:!0},r.a.createElement(me.a,{for:"icmax",sm:5},"IC Max:"),r.a.createElement(z.a,{sm:7},r.a.createElement(I.a,{className:"form-control",type:"number",name:"icmax",onChange:function(e){o("icmax",e.target.value),n(Number(e.target.value))}}))),r.a.createElement(Ee,{type:"submit",loading:l,className:"btn btn-success"},"Run"))}})))},ge=a(286),pe=a.n(ge);var ve=function(){var e=Object(o.g)(function(e){return e.simulationTab}),t=Object(o.g)(function(e){return e.modelMetadata});return r.a.useEffect(function(){var a=[];e.reactions.forEach(function(t){!0===t.checked&&(""===t.ratelaw?a.push(Object(i.a)({},t,{ratelaw:e.globalRatelaw})):a.push(t))});var n=Object(i.a)({},t,{reactions:a,metabolites:e.metabolites}),r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n)),l=document.getElementById("exportAnchorElement");l.setAttribute("href",r),l.setAttribute("download","model.json")}),e.graphData?r.a.createElement("div",null,r.a.createElement(pe.a,{options:{chart:{id:"apexchart-example"},xaxis:{type:"numeric",tickAmount:10}},series:e.graphData,type:"line",width:550,height:600}),r.a.createElement("a",{className:"btn btn-dark",style:{float:"right"},id:"exportAnchorElement",href:"/"},"Export Data")):r.a.createElement("div",null)},Ae=a(667),we=a(166),ye=(a(637),a(666));var Se=function(e){var t=e.metaboliteId,a=e.toggle,n=r.a.useState(!0),l=Object(h.a)(n,2),c=l[0],o=l[1];return r.a.createElement(ye.a,{type:"switch",id:t,onChange:function(e){o(function(e){return!e}),a(t)},checked:c})},Ne=we.a.createSliderWithTooltip(we.a);var Oe=function(){var e=Object(o.g)(function(e){return e.simulationTab}),t=e.metabolites,a=e.icstep,n=e.icmin,l=e.icmax,c=Object(o.f)(function(e){return e.simulationTab}),i=c.toggleMetabolite,m=c.updateIc;return r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,r.a.createElement("h4",{className:"text-muted",style:{marginBottom:20}},"Metabolites"),r.a.createElement("div",{style:{overflowY:"scroll",height:255}},r.a.createElement(Ae.a,{borderless:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Initial Concentration"),r.a.createElement("th",null,"Show in graph"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,e.id),r.a.createElement("th",null,r.a.createElement(Ne,{style:{width:200},step:a,min:n,max:l,onChange:function(t){m({id:e.id,initialConcentration:t})}})),r.a.createElement("th",null,r.a.createElement(Se,{metaboliteId:e.id,toggle:i})))}))))))},xe=a(668);var ke=function(e){var t=e.ratelaw,a=e.reaction,n=e.closeModal,l=Object(o.f)(function(e){return e.simulationTab}).setRatelaw;return r.a.createElement("div",null,r.a.createElement(I.c,{initialValues:{k1:0,k2:0},onSubmit:function(){var e=Object(D.a)(R.a.mark(function e(r,c){var o,i,m;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(m in i=[],o=r)o.hasOwnProperty(m)&&i.push(o[m]);l({id:a.id,ratelaw:t,parameters:i}),n();case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),render:function(e){var n=e.handleSubmit;return r.a.createElement(I.b,{onSubmit:n},"mass-action"===t&&a.reversible?r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,null,"Forward Parameter (k1):"),r.a.createElement(I.a,{className:"form-control",name:"k1",type:"number"}),r.a.createElement(me.a,null,"Backward Parameter (k2):"),r.a.createElement(I.a,{className:"form-control",name:"k2",type:"number"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,null,"Parameter (k1):"),r.a.createElement(I.a,{className:"form-control",name:"k1",type:"number"})),r.a.createElement("br",null),r.a.createElement(j.a,{type:"submit",className:"btn btn-success"},"Submit"))}}))};var je=function(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),c=Object(h.a)(l,2),i=c[0],m=c[1],s=r.a.useState(""),u=Object(h.a)(s,2),d=u[0],f=u[1],E=Object(o.g)(function(e){return e.modelTab.currentModel.reactions}),b=Object(o.f)(function(e){return e.simulationTab}).switchReaction;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{isOpen:a,toggle:function(){n(!a)}},r.a.createElement(A.a,null,"Set Ratelaw"),r.a.createElement(w.a,null,r.a.createElement(ke,{ratelaw:d,reaction:i,closeModal:function(){return n(!1)}}))),r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,r.a.createElement("h4",{className:"text-muted",style:{marginBottom:20}},"Reactions"),r.a.createElement("div",{style:{overflowY:"auto",maxHeight:200}},r.a.createElement(Ae.a,{borderless:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Toggle"),r.a.createElement("th",null,"Reaction String"),r.a.createElement("th",null,"Ratelaw"))),r.a.createElement("tbody",null,E.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,r.a.createElement(ye.a,{type:"switch",id:e.id,onChange:function(){b(e)}})),r.a.createElement("th",null,e.id,": ",e.reactionString),r.a.createElement("th",null,r.a.createElement(xe.a,{onChange:function(t){""!==t.target.value&&n(!a),f(t.target.value),m(e)},type:"select"},r.a.createElement("option",{value:""},"Set a ratelaw!"),r.a.createElement("option",{value:"mass-action"},"Mass Action"))))})))))))},Me=a(289),Ce=a.n(Me);var Re=function(){return r.a.createElement(Ce.a,{isDraggable:!1,className:"layout",layout:[{i:"a",x:0,y:0,w:3,h:7},{i:"b",x:3,y:0,w:4,h:7},{i:"c",x:7,y:0,w:5,h:15},{i:"d",x:0,y:8,w:7,h:6}],cols:12,items:4,rowHeight:40,width:1500,onLayoutChange:function(){},autoSize:!1},r.a.createElement("div",{key:"a"},r.a.createElement(he,null)),r.a.createElement("div",{key:"b"},r.a.createElement(Oe,null)),r.a.createElement("div",{key:"c"},r.a.createElement(ve,null)),r.a.createElement("div",{key:"d"},r.a.createElement(je,null)))};y.a.configure({position:y.a.POSITION.BOTTOM_RIGHT,autoClose:2e3});var De=function(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!1),c=Object(h.a)(l,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(M,{importModel:function(){return n(!a)},savedModels:function(){return i(!a)}}),r.a.createElement(v.a,{isOpen:a,toggle:function(){return n(!a)}},r.a.createElement(A.a,{toggle:function(){return n(!a)}},"Import an existing SBML Model"),r.a.createElement(w.a,null,r.a.createElement(L,{closeModal:function(){return n(!a)}}))),r.a.createElement(v.a,{isOpen:o,toggle:function(){return i(!o)}},r.a.createElement(A.a,{toggle:function(){return i(!o)}},"Saved Models"),r.a.createElement(w.a,null,r.a.createElement(q,null))),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/simulation",component:Re}),r.a.createElement(p.a,{path:"/",component:ce}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(645),a(646);c.a.render(r.a.createElement(o.a,{store:E},r.a.createElement(b.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"ODE-APP")),r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[293,1,2]]]);
//# sourceMappingURL=main.d46a8115.chunk.js.map