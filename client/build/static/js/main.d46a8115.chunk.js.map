{"version":3,"sources":["assets/node.png","assets/arrow.png","store/index.js","components/NavBar/index.js","components/ImportSbmlForm/index.js","components/SavedModels/index.js","components/ModelTab/Graph/GraphLegend.js","components/ModelTab/Graph/index.js","components/ModelTab/ReactionsList/index.js","components/ModelTab/MetabolitesList/index.js","components/ModelTab/InfoPanel/index.js","components/ModelTab/index.js","components/Button/index.js","components/SimulationTab/SettingsPanel/index.js","components/SimulationTab/Plot/index.js","components/SimulationTab/MetabolitesPanel/CustomSwitch.js","components/SimulationTab/MetabolitesPanel/index.js","components/SimulationTab/ReactionsPanel/RatelawForm.js","components/SimulationTab/ReactionsPanel/index.js","components/SimulationTab/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","model","modelMetadata","importSbml","thunk","actions","file","formData","FormData","append","name","axios","method","url","concat","process","data","then","res","json","JSON","parse","modelTab","setCurrentModel","initSimulation","error","err","message","getModel","payload","jsonModel","setModelMetadata","id","sbmlVersion","sbmlLevel","console","log","action","state","simulationTab","reactions","currentModel","map","reaction","Object","objectSpread","ratelaw","parameters","checked","metabolitesFromModel","metabolites","saveModel","_ref","getStoreState","icmin","icmax","icstep","computed","resultData","graphData","filter","item","simulate","_ref2","newReactions","forEach","Error","push","simulationPayload","time","dataPoints","modifiedData","concentrationData","updateResult","switchReaction","_ref3","updateMetabolites","setRatelaw","toggleMetabolite","setIcmin","setIcmax","updateIc","metabolite","initialConcentration","reactants","reactant","_","includes","products","product","store","createStore","NavBar","props","_React$useState","React","useState","_React$useState2","slicedToArray","active","setActive","react_default","a","createElement","Navbar","color","dark","expand","NavbarBrand","href","Nav","navbar","NavItem","NavLink","onClick","className","style","marginRight","Button","importModel","savedModels","ImportSbmlForm","closeModal","useStoreActions","Fragment","formik_esm","initialValues","onSubmit","asyncToGenerator","regenerator_default","mark","_callee","values","wrap","_context","prev","next","sent","toast","stop","_x","_x2","apply","this","arguments","render","Form","handleSubmit","FormGroup","required","type","placeholder","onChange","event","setFieldValue","currentTarget","files","FormText","API_URL","SavedModels","setData","useEffect","ListGroup","flush","ListGroupItem","tag","success","key","format","Date","createdAt","GraphLegend","Graph","nodes","edges","gen","_this$props","_this","reactionNodes","generateReactionNodes","i","length","label","node","generateReactionEdges","setState","_unused","findNode","object","temp","index","reactionsEdges","reversible","source","target","graph","ccNetViz","document","getElementById","styles","background","minSize","maxSize","texture","require","hideSize","edge","width","arrow","aspect","reactionNode","reactantEdge","productEdge","reversibleReactantEdge","reversibleProductEdge","onChangeViewport","viewport","onLoad","getNodesCount","getEdgesCount","onDrag","onZoom","onDblClick","passiveEvts","set","draw","prevProps","prevState","remove","react_icons_kit","icon","infoCircle","UncontrolledTooltip","placement","Graph_GraphLegend","height","Component","ReactionsList","overflowY","setInfo","setType","MetabolitesList","InfoPanel","charge","String","reactionString","ModelTab","_React$useState3","_React$useState4","info","_React$useState5","_React$useState6","modal","setModal","_useStoreState","useStoreState","Modal","isOpen","toggle","ModalHeader","ModalBody","Row","padding","Col","md","ModelTab_Graph","ModelTab_ReactionsList","ModelTab_MetabolitesList","marginTop","ModelTab_InfoPanel","float","outline","disabled","buttonContent","classes","curved","loading","react_loading_default","children","join","defaultProps","settingsSchema","Yup","shape","min","max","SettingsPanel","_useStoreActions","Card","CardBody","marginBottom","validationSchema","t0","setSubmitting","isSubmitting","errors","row","Label","for","sm","e","value","Number","components_Button","Plot","globalRatelaw","modelData","dataString","encodeURIComponent","stringify","exportAnchorElement","setAttribute","react_apexcharts_min_default","options","chart","xaxis","tickAmount","series","CustomSwitch","metaboliteId","switched","setSwitched","CustomInput","s","CSlider","Slider","createSliderWithTooltip","MetabolitesPanel","Table","borderless","hover","step","MetabolitesPanel_CustomSwitch","RatelawForm","k1","k2","parametersArr","property","hasOwnProperty","ReactionsPanel","setReaction","ReactionsPanel_RatelawForm","maxHeight","Input","SimulationTab","react_grid_layout_default","isDraggable","layout","x","y","w","h","cols","items","rowHeight","onLayoutChange","autoSize","SimulationTab_SettingsPanel","SimulationTab_MetabolitesPanel","SimulationTab_Plot","SimulationTab_ReactionsPanel","configure","position","POSITION","BOTTOM_RIGHT","autoClose","App","importModal","setImportModal","savedModal","setSavedModal","react_router_dom","components_NavBar","components_ImportSbmlForm","components_SavedModels","react_router","path","component","Boolean","window","location","hostname","match","ReactDOM","easy_peasy_esm","Helmet","charSet","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d46a8115.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98DBg8SMBgGJhQAAAJcSURBVDjLrZO/alRREMa/mXPOvXf/BEmybhQiBDXamM7HECxU1AgW1mIlIgiClU+ghaSLElnBPICNL2Fh4b/KsKzsZt299557z5mxiFkT0UqnnOI33/fNDPCPRb83Tj162+W0eYNcetW65FzTMR/JzLt2wq/aCW++uLLy9Y+Akw/fELG5QC59SjZdbrba6LQsjrUtjs85NB2jjtqvRW+Pvbx+dvFEBAC7D1CJF4hND2wz12hpKzVYaBhaXUyxttTQo02DvJbu+4Hf+jyq1gH0AIABYOXe9lGIPAVxRmw0MUwtRzTfsDg5n+D0QkIr8wmd6WR6tpOaxPKT673PyzOA+PyGSlwGoGTdzFZqCJllZI7hmGAZlDlWx9QZe7k1A2isr0LCnpUYoaoQBfJasDMJ6E8Cdn3EsIjoTwKmVcS0itdmGWjt16QqwY1IkAAfFXkt+FZEfBp6AMBi08AHxcdhRTuTgLGX1RlAfM5gC60KiHEglyKvUgyme6pGpaDhCEGAQR4wmAaUQfBLQfDvJB+dj0mmlDRIfI6CGAAQVTEqAgwToih8VAyLiFhOPx5cYy/mu+f3w7NHuoAKCm2jDA6GCY4JtShCXWkYD0hr3zugoN5UiXfDbr8roVKtPZm5RXBVgoxDtA6VCqQqNYx2SKpyRMZsHLrEpSsPL0s5eamhNuRSNa15cNYmTpsAMaTKVfIxaazBSXbz6/P7m4cukYzbJpuuq+qTWHzvxOkQYAuinzOIiZNsRDa9I8DWX5+pe+nBstb+lkq8plWxCoDIpR+ITY9sutHffvwF/7N+AOa9Ka0q3oiBAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADkSURBVDhPlZGxDgFRFER3JXQ+gEKiEBIqrdYHqHW+jc4HSETtV4iGRhS79z53NvNYPJt9k0yx9s7MiU1UtWOeRHoMO+d6KJiJqstFskhrrrpKrKVhD0f8gKI6LsIiN8umKEiNYho6rLKtL4sCCBQicqhDwfX7KwyRYhgKhJw5t/gogEixDwW8uf7ALWNvkaIfCpZt6/OfdS9S7EL/BdevwXUvUnS/w974Wn/XvUixLVNw/VS57kWKdnkZNo3wjmfVwqFRrLkMn2uHIRybW37diAZRBRApNrZ+iQ5DpGjiq/wvSJInLsNx8D4f8OUAAAAASUVORK5CYII=\"","import { createStore, action, thunk, computed } from 'easy-peasy'\r\nimport axios from 'axios'\r\nimport _ from 'lodash'\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL\r\n  ? process.env.REACT_APP_API_URL\r\n  : 'http://localhost:5000/'\r\n\r\nconst model = {\r\n  /*\r\n   * Common global state\r\n   */\r\n  modelMetadata: {},\r\n\r\n  //thunks\r\n  importSbml: thunk((actions, file) => {\r\n    const formData = new FormData()\r\n    formData.append('file', file, file.name)\r\n    return axios({\r\n      method: 'post',\r\n      url: `${API_URL}api/uploadSbml`,\r\n      data: formData,\r\n    })\r\n      .then(res => {\r\n        const json = JSON.parse(res.data)\r\n        actions.modelTab.setCurrentModel(json)\r\n      })\r\n      .then(() => {\r\n        actions.initSimulation()\r\n        return { error: false }\r\n      })\r\n      .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n  }),\r\n  getModel: thunk((actions, payload) => {\r\n    return axios({ method: 'get', url: `${API_URL}api/model/get/${payload}` })\r\n      .then(res => {\r\n        const data = res.data.jsonModel\r\n        actions.modelTab.setCurrentModel(data)\r\n        actions.setModelMetadata({\r\n          name: data.name,\r\n          id: data.id,\r\n          sbmlVersion: data.sbmlVersion,\r\n          sbmlLevel: data.sbmlLevel,\r\n        })\r\n      })\r\n      .then(() => {\r\n        actions.initSimulation()\r\n        return { error: false, message: 'Successfully retrieved model.' }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        return { error: true, message: 'Something went wrong.' }\r\n      })\r\n  }),\r\n  //actions\r\n  initSimulation: action(state => {\r\n    state.simulationTab.reactions = state.modelTab.currentModel.reactions.map(\r\n      reaction => ({\r\n        ...reaction,\r\n        ratelaw: '',\r\n        parameters: [],\r\n        checked: false,\r\n      })\r\n    )\r\n    state.simulationTab.metabolitesFromModel =\r\n      state.modelTab.currentModel.metabolites\r\n  }),\r\n  setModelMetadata: action((state, payload) => {\r\n    state.modelMetadata = {\r\n      name: payload.name,\r\n      id: payload.id,\r\n      sbmlVersion: payload.sbmlVersion,\r\n      sbmlLevel: payload.sbmlLevel,\r\n    }\r\n  }),\r\n\r\n  /*\r\n   * Model tab state\r\n   */\r\n\r\n  modelTab: {\r\n    currentModel: {\r\n      metabolites: [],\r\n      reactions: [],\r\n    },\r\n    //thunks\r\n    saveModel: thunk((actions, payload, { getStoreState }) => {\r\n      const state = getStoreState()\r\n      return axios({\r\n        method: 'post',\r\n        url: `${API_URL}api/model/add`,\r\n        data: state.modelTab.currentModel,\r\n      })\r\n        .then(res => ({ message: 'Successfully saved.', error: false }))\r\n        .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n    }),\r\n    //actions\r\n    setCurrentModel: action((state, payload) => {\r\n      state.currentModel = payload\r\n    }),\r\n  },\r\n\r\n  /*\r\n   * Simulation tab state\r\n   */\r\n\r\n  simulationTab: {\r\n    icmin: 0,\r\n    icmax: 100,\r\n    icstep: computed(state => (state.icmax - state.icmin) / 100),\r\n    reactions: [],\r\n    metabolitesFromModel: [],\r\n    metabolites: [],\r\n    resultData: [],\r\n    graphData: computed(state => {\r\n      return state.resultData.filter(item => {\r\n        if (item.checked) return true\r\n        else return false\r\n      })\r\n    }),\r\n    //thunks\r\n    simulate: thunk((actions, payload, { getStoreState }) => {\r\n      const state = getStoreState()\r\n      let newReactions = []\r\n      state.simulationTab.reactions.forEach(reaction => {\r\n        if (reaction.checked === true) {\r\n          if (reaction.ratelaw === '') {\r\n            throw new Error('Ratelaw found empty for reaction: ' + reaction.id)\r\n          } else newReactions.push(reaction)\r\n        }\r\n      })\r\n      const simulationPayload = {\r\n        time: payload.time,\r\n        dataPoints: payload.dataPoints,\r\n        reactions: newReactions,\r\n        metabolites: state.simulationTab.metabolites,\r\n      }\r\n      return axios({\r\n        method: 'post',\r\n        url: `${API_URL}api/simulation`,\r\n        data: simulationPayload,\r\n      })\r\n        .then(res => {\r\n          const data = JSON.parse(res.data)\r\n          const modifiedData = data.concentrationData.map(item => ({\r\n            ...item,\r\n            checked: true,\r\n          }))\r\n          return actions.updateResult(modifiedData)\r\n        })\r\n        .catch(err => ({ message: 'Something went wrong.', error: true }))\r\n    }),\r\n    //Switches (on/off) the reaction in the simulation\r\n    switchReaction: thunk((actions, payload, { getStoreState }) => {\r\n      let state = getStoreState()\r\n      state.simulationTab.reactions = state.simulationTab.reactions.map(\r\n        reaction => {\r\n          if (reaction.id === payload.id)\r\n            return { ...reaction, checked: !reaction.checked }\r\n          else return reaction\r\n        }\r\n      )\r\n      actions.updateMetabolites()\r\n    }),\r\n    //actions\r\n    setRatelaw: action((state, payload) => {\r\n      state.reactions = state.reactions.map(reaction => {\r\n        if (payload.id === reaction.id) {\r\n          return {\r\n            ...reaction,\r\n            ratelaw: payload.ratelaw,\r\n            parameters: payload.parameters,\r\n          }\r\n        } else return reaction\r\n      })\r\n    }),\r\n    toggleMetabolite: action((state, payload) => {\r\n      state.resultData = state.resultData.map(item => {\r\n        if (item.name === payload) {\r\n          return { ...item, checked: !item.checked }\r\n        } else return item\r\n      })\r\n    }),\r\n    updateResult: action((state, payload) => {\r\n      state.resultData = payload\r\n    }),\r\n    setIcmin: action((state, payload) => {\r\n      state.icmin = payload\r\n    }),\r\n    setIcmax: action((state, payload) => {\r\n      state.icmax = payload\r\n    }),\r\n    updateIc: action((state, payload) => {\r\n      state.metabolites.forEach(metabolite => {\r\n        if (metabolite.id === payload.id) {\r\n          metabolite.initialConcentration = payload.initialConcentration\r\n        }\r\n      })\r\n    }),\r\n    // Updates the metabolites list\r\n    updateMetabolites: action((state, payload) => {\r\n      state.metabolites = []\r\n      state.reactions.map(reaction => {\r\n        if (reaction.checked) {\r\n          reaction.reactants.map(reactant => {\r\n            return state.metabolitesFromModel.map(metabolite => {\r\n              if (reactant.id === metabolite.id) {\r\n                if (!_.includes(state.metabolites, metabolite)) {\r\n                  return state.metabolites.push(metabolite)\r\n                } else {\r\n                  return false\r\n                }\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          })\r\n          return reaction.products.map(product => {\r\n            return state.metabolitesFromModel.map(metabolite => {\r\n              if (product.id === metabolite.id) {\r\n                if (!_.includes(state.metabolites, metabolite)) {\r\n                  return state.metabolites.push(metabolite)\r\n                } else {\r\n                  return false\r\n                }\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    }),\r\n  },\r\n}\r\n\r\nexport const store = createStore(model)\r\n","import React from 'react'\r\nimport { Navbar, NavbarBrand, Nav, NavItem, NavLink, Button } from 'reactstrap'\r\n\r\nfunction NavBar(props) {\r\n  const [active, setActive] = React.useState('model')\r\n\r\n  return (\r\n    <Navbar color=\"dark\" dark expand=\"md\">\r\n      <NavbarBrand href=\"/\">ODE App</NavbarBrand>\r\n      <Nav navbar>\r\n        <NavItem>\r\n          <NavLink\r\n            active={active === 'model' ? true : false}\r\n            onClick={() => {\r\n              setActive('model')\r\n            }}\r\n            href=\"/#/model\"\r\n          >\r\n            Model\r\n          </NavLink>\r\n        </NavItem>\r\n        <NavItem>\r\n          <NavLink\r\n            active={active === 'simulation' ? true : false}\r\n            onClick={() => {\r\n              setActive('simulation')\r\n            }}\r\n            href=\"/#/simulation\"\r\n          >\r\n            Simulation\r\n          </NavLink>\r\n        </NavItem>\r\n      </Nav>\r\n      <Nav className=\"ml-auto\" navbar>\r\n        <NavItem style={{ marginRight: 20 }}>\r\n          <Button color=\"primary\" onClick={props.importModel}>\r\n            Import Model\r\n          </Button>\r\n        </NavItem>\r\n        <NavItem>\r\n          <Button color=\"info\" onClick={props.savedModels}>\r\n            Saved Models\r\n          </Button>\r\n        </NavItem>\r\n      </Nav>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import React from 'react'\r\nimport { Formik } from 'formik'\r\nimport { useStoreActions } from 'easy-peasy'\r\nimport { toast } from 'react-toastify'\r\nimport { Button, Form, FormText, FormGroup } from 'reactstrap'\r\n\r\nfunction ImportSbmlForm({ closeModal }) {\r\n  const importSbml = useStoreActions(actions => actions.importSbml)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Formik\r\n        initialValues={{ file: '' }}\r\n        onSubmit={async (values, actions) => {\r\n          if (values.file) {\r\n            const data = await importSbml(values.file)\r\n            if (data.error) toast.error(data.message)\r\n            else {\r\n              closeModal()\r\n            }\r\n          }\r\n        }}\r\n        render={props => (\r\n          <Form onSubmit={props.handleSubmit}>\r\n            <FormGroup>\r\n              <input\r\n                required\r\n                type=\"file\"\r\n                name=\"file\"\r\n                placeholder=\"Upload\"\r\n                onChange={event => {\r\n                  props.setFieldValue('file', event.currentTarget.files[0])\r\n                }}\r\n              />\r\n              <FormText color=\"muted\">\r\n                Please upload a .sbml or .xml file which is formatted atleast in\r\n                level 2 SBML for kinetic (ODE) models.\r\n              </FormText>\r\n            </FormGroup>\r\n            <Button color=\"primary\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ImportSbmlForm\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nimport { useStoreActions } from 'easy-peasy'\r\nimport { format } from 'date-fns'\r\nimport { toast } from 'react-toastify'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL\r\n  ? process.env.REACT_APP_API_URL\r\n  : 'http://localhost:5000/'\r\n\r\nfunction SavedModels() {\r\n  const [data, setData] = React.useState([])\r\n  const getModel = useStoreActions(actions => actions.getModel)\r\n\r\n  React.useEffect(() => {\r\n    axios({ method: 'get', url: `${API_URL}api/model/get/all` })\r\n      .then(res => setData(res.data))\r\n      .catch(err => console.error(err))\r\n  }, [])\r\n\r\n  if (data) {\r\n    return (\r\n      <ListGroup flush>\r\n        {data.map(item => (\r\n          <ListGroupItem\r\n            tag=\"button\"\r\n            action\r\n            onClick={async () => {\r\n              const data = await getModel(item.id)\r\n              if (data.error) toast.error(data.message)\r\n              else toast.success(data.message)\r\n            }}\r\n            key={item.id}\r\n          >\r\n            {item.name} -{' '}\r\n            {format(new Date(item.createdAt), 'D MMMM YYYY - hh:mm:ss A')}\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    )\r\n  } else {\r\n    return <div />\r\n  }\r\n}\r\n\r\nexport default SavedModels\r\n","import React from 'react'\r\n\r\nfunction GraphLegend() {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon blue\" />- Metabolite Nodes\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon red\" />- Reaction Nodes\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon green\" />- Reactant Edge\r\n      </div>\r\n      <div className=\"flex\">\r\n        <div className=\"circle-icon yellow\" />- Product Edge\r\n      </div>\r\n      <div className=\"flex\">--> - Reversible reactions</div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default GraphLegend\r\n","import React from 'react'\r\nimport ccNetViz from 'ccnetviz'\r\nimport { UncontrolledTooltip } from 'reactstrap'\r\nimport { Icon } from 'react-icons-kit'\r\nimport { infoCircle } from 'react-icons-kit/fa/infoCircle'\r\nimport GraphLegend from './GraphLegend'\r\nimport './style.scss'\r\n\r\nclass Graph extends React.Component {\r\n  state = {\r\n    nodes: [],\r\n    edges: [],\r\n  }\r\n\r\n  gen = () => {\r\n    const { reactions, metabolites } = this.props\r\n    try {\r\n      let reactionNodes = this.generateReactionNodes(reactions)\r\n      let nodes = []\r\n      for (let i = 0; i < metabolites.length; i++) {\r\n        nodes.push({ label: metabolites[i].id })\r\n      }\r\n      reactionNodes.map(node => {\r\n        return nodes.push(node)\r\n      })\r\n      let edges = this.generateReactionEdges(reactions, nodes)\r\n      this.setState({ nodes, edges })\r\n    } catch {}\r\n  }\r\n\r\n  generateReactionNodes = reactions => {\r\n    const reactionNodes = reactions.map(reaction => {\r\n      return {\r\n        label: reaction.id,\r\n        style: 'reactionNode',\r\n      }\r\n    })\r\n    return reactionNodes\r\n  }\r\n\r\n  findNode = (object, nodes) => {\r\n    let temp\r\n    nodes.filter((node, index) => {\r\n      if (node.label === object.label) {\r\n        return (temp = index)\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n    return temp\r\n  }\r\n\r\n  generateReactionEdges = (reactions, nodes) => {\r\n    const reactionsEdges = []\r\n    reactions.map(reaction => {\r\n      reaction.reactants.map(reactant => {\r\n        if (reaction.reversible) {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reactant.id }, nodes)],\r\n            target: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            style: 'reversibleReactantEdge',\r\n          })\r\n        } else {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reactant.id }, nodes)],\r\n            target: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            style: 'reactantEdge',\r\n          })\r\n        }\r\n      })\r\n      return reaction.products.map(product => {\r\n        if (reaction.reversible) {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            target: nodes[this.findNode({ label: product.id }, nodes)],\r\n            style: 'reversibleProductEdge',\r\n          })\r\n        } else {\r\n          return reactionsEdges.push({\r\n            source: nodes[this.findNode({ label: reaction.id }, nodes)],\r\n            target: nodes[this.findNode({ label: product.id }, nodes)],\r\n            style: 'productEdge',\r\n          })\r\n        }\r\n      })\r\n    })\r\n    return reactionsEdges\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.graph = new ccNetViz(document.getElementById('graph'), {\r\n      styles: {\r\n        background: {\r\n          color: 'rgb(255, 255, 255)',\r\n        },\r\n        node: {\r\n          minSize: 6,\r\n          maxSize: 16,\r\n          color: 'rgb(47, 109, 206)',\r\n          texture: require('../../../assets/node.png'),\r\n          label: {\r\n            color: 'rgb(0, 0, 0)',\r\n            hideSize: 16,\r\n          },\r\n        },\r\n        edge: {\r\n          width: 1,\r\n          color: 'rgb(50, 50, 50)',\r\n          arrow: {\r\n            minSize: 1,\r\n            maxSize: 16,\r\n            aspect: 1,\r\n            texture: require('../../../assets/arrow.png'),\r\n            hideSize: 1,\r\n          },\r\n          type: 'line',\r\n        },\r\n        reactionNode: {\r\n          color: 'rgb(200, 0, 0)',\r\n          label: {\r\n            hideSize: 16,\r\n          },\r\n        },\r\n        reactantEdge: {\r\n          color: 'rgb(89, 249, 2)',\r\n        },\r\n        productEdge: {\r\n          color: 'rgb(255, 246, 0)',\r\n        },\r\n        reversibleReactantEdge: { color: 'rgb(89, 249, 2)', type: 'dashed' },\r\n        reversibleProductEdge: { color: 'rgb(255, 246, 0)', type: 'dashed' },\r\n      },\r\n      onChangeViewport: function(viewport) {},\r\n      onLoad: function() {},\r\n      getNodesCount() {},\r\n      getEdgesCount() {},\r\n      onDrag: function(viewport) {},\r\n      onZoom: function(viewport) {},\r\n      onClick: function() {\r\n        return false\r\n      },\r\n      onDblClick: function() {},\r\n      passiveEvts: true,\r\n    })\r\n\r\n    this.gen()\r\n    this.graph.set(this.state.nodes, this.state.edges, 'force')\r\n    this.graph.draw()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    this.graph.draw()\r\n    if (\r\n      prevProps.reactions !== this.props.reactions ||\r\n      prevProps.metabolites !== this.props.metabolites\r\n    ) {\r\n      this.gen()\r\n    }\r\n    if (prevState !== this.state) {\r\n      this.graph.set(this.state.nodes, this.state.edges, 'force')\r\n      this.graph.draw()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.graph.remove()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">\r\n          Graph{` `}\r\n          <Icon icon={infoCircle} id=\"graph-legend-info\" />\r\n          <UncontrolledTooltip placement=\"right\" target=\"graph-legend-info\">\r\n            <GraphLegend />\r\n          </UncontrolledTooltip>\r\n        </h4>\r\n        <canvas id=\"graph\" width=\"600\" height=\"550\" className=\"graph-canvas\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Graph\r\n","import React from 'react'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nfunction ReactionsList(props) {\r\n  if (props.reactions) {\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">Reactions</h4>\r\n        <ListGroup style={{ height: '250px', overflowY: 'scroll' }}>\r\n          {props.reactions.map(reaction => (\r\n            <ListGroupItem\r\n              key={reaction.id}\r\n              tag=\"button\"\r\n              action\r\n              onClick={() => {\r\n                props.setInfo(reaction)\r\n                props.setType('reaction')\r\n              }}\r\n            >\r\n              {reaction.id} - {reaction.name}\r\n            </ListGroupItem>\r\n          ))}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>No data</div>\r\n  }\r\n}\r\n\r\nexport default ReactionsList\r\n","import React from 'react'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nfunction MetabolitesList(props) {\r\n  if (props.metabolites) {\r\n    return (\r\n      <div>\r\n        <h4 className=\"text-muted\">Metabolites</h4>\r\n        <ListGroup style={{ height: '250px', overflowY: 'scroll' }}>\r\n          {props.metabolites.map(metabolite => (\r\n            <ListGroupItem\r\n              key={metabolite.id}\r\n              tag=\"button\"\r\n              action\r\n              onClick={() => {\r\n                props.setInfo(metabolite)\r\n                props.setType('metabolite')\r\n              }}\r\n            >\r\n              {metabolite.id} - {metabolite.name}\r\n            </ListGroupItem>\r\n          ))}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>No data</div>\r\n  }\r\n}\r\n\r\nexport default MetabolitesList\r\n","import React from 'react'\r\n\r\nfunction InfoPanel(props) {\r\n  if (props.type === 'metabolite') {\r\n    return (\r\n      <div>\r\n        <dl className=\"row\">\r\n          <dt className=\"col-sm-5\">Metabolite ID</dt>\r\n          <dd className=\"col-sm-7\">{props.data.id}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Metabolite Name</dt>\r\n          <dd className=\"col-sm-7\">{props.data.name}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Charge</dt>\r\n          <dd className=\"col-sm-7\">{props.data.charge}</dd>\r\n\r\n          <dt className=\"col-sm-5\">Initial Concentration</dt>\r\n          <dd className=\"col-sm-7\">{props.data.initialConcentration}</dd>\r\n        </dl>\r\n      </div>\r\n    )\r\n  } else if (props.type === 'reaction') {\r\n    return (\r\n      <div>\r\n        <dl className=\"row\">\r\n          <dt className=\"col-sm-4\">Reaction ID</dt>\r\n          <dd className=\"col-sm-8\">{props.data.id}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reaction Name</dt>\r\n          <dd className=\"col-sm-8\">{props.data.name}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reversible</dt>\r\n          <dd className=\"col-sm-8\">{String(props.data.reversible)}</dd>\r\n\r\n          <dt className=\"col-sm-4\">Reaction</dt>\r\n          <dd className=\"col-sm-8\">{props.data.reactionString}</dd>\r\n        </dl>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        {/* <h5 className=\"text-muted\">Model Information</h5>\r\n        <dl className=\"row\">\r\n          <dt className=\"col-sm-3\">Model ID</dt>\r\n          <dd className=\"col-sm-9\">{props.modelId}</dd>\r\n\r\n          <dt className=\"col-sm-3\">Model Name</dt>\r\n          <dd className=\"col-sm-9\">{props.modelName}</dd>\r\n\r\n          <dt className=\"col-sm-3\">SBML Level</dt>\r\n          <dd className=\"col-sm-9\">{props.sbmlLevel}</dd>\r\n\r\n          <dt className=\"col-sm-3\">SBML Version</dt>\r\n          <dd className=\"col-sm-9\">{props.sbmlVersion}</dd>\r\n        </dl> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InfoPanel\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport { Row, Col, Button, Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport Graph from './Graph'\r\nimport ReactionsList from './ReactionsList'\r\nimport MetabolitesList from './MetabolitesList'\r\nimport InfoPanel from './InfoPanel'\r\n\r\nfunction ModelTab() {\r\n  const [type, setType] = React.useState('')\r\n  const [info, setInfo] = React.useState({})\r\n  const [modal, setModal] = React.useState(false)\r\n\r\n  const { reactions, metabolites, name } = useStoreState(\r\n    state => state.modelTab.currentModel\r\n  )\r\n\r\n  const saveModel = useStoreActions(actions => actions.modelTab.saveModel)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        isOpen={modal}\r\n        toggle={() => {\r\n          setModal(!modal)\r\n        }}\r\n      >\r\n        <ModalHeader\r\n          toggle={() => {\r\n            setModal(!modal)\r\n          }}\r\n        >\r\n          Save your SBML Model\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          Are you sure?\r\n          <br />\r\n          <br />\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={async () => {\r\n              const temp = await saveModel()\r\n              if (temp.error) toast.error(temp.message)\r\n              else toast.success(temp.message)\r\n              setModal(!modal)\r\n            }}\r\n          >\r\n            Yes\r\n          </Button>\r\n          {` `}\r\n          <Button color=\"danger\" onClick={() => setModal(!modal)}>\r\n            Cancel\r\n          </Button>\r\n        </ModalBody>\r\n      </Modal>\r\n      <Row style={{ padding: 20 }}>\r\n        <Col md=\"5\">\r\n          <Graph reactions={reactions} metabolites={metabolites} />\r\n        </Col>\r\n        <Col md=\"7\">\r\n          <Row>\r\n            <Col>\r\n              <ReactionsList\r\n                reactions={reactions}\r\n                setInfo={setInfo}\r\n                setType={setType}\r\n              />\r\n            </Col>\r\n            <Col>\r\n              <MetabolitesList\r\n                metabolites={metabolites}\r\n                setInfo={setInfo}\r\n                setType={setType}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row style={{ marginTop: 30 }}>\r\n            <Col>\r\n              <InfoPanel type={type} data={info} />\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                style={{ float: 'right' }}\r\n                outline\r\n                color=\"success\"\r\n                onClick={() => setModal(!modal)}\r\n                disabled={name ? false : true}\r\n              >\r\n                Save Model\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ModelTab\r\n","import React from 'react'\r\nimport ReactLoading from 'react-loading'\r\nimport PropTypes from 'prop-types'\r\nimport './style.scss'\r\n\r\nfunction Button(props) {\r\n  let classes = []\r\n  classes.push(props.className)\r\n  if (props.curved) {\r\n    classes.push('curved-button')\r\n  }\r\n  let buttonContent\r\n  if (props.loading) {\r\n    buttonContent = (\r\n      <ReactLoading\r\n        type={'bars'}\r\n        color={props.color}\r\n        height={'30px'}\r\n        width={'30px'}\r\n        className=\"button-loading-icon\"\r\n      />\r\n    )\r\n  } else {\r\n    buttonContent = props.children\r\n  }\r\n  return (\r\n    <button\r\n      type={props.type}\r\n      className={classes.join(' ')}\r\n      disabled={props.loading}\r\n      onClick={props.onClick}\r\n    >\r\n      {buttonContent}\r\n    </button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  loading: PropTypes.bool,\r\n  curved: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  color: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n}\r\n\r\nButton.defaultProps = {\r\n  loading: false,\r\n  curved: false,\r\n  type: 'button',\r\n  color: 'white',\r\n}\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport { useStoreActions, useStoreState } from 'easy-peasy'\r\nimport { Formik, Field } from 'formik'\r\nimport { Card, CardBody, Form, FormGroup, Label, Col } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport * as Yup from 'yup'\r\nimport Button from '../../Button'\r\n\r\nconst settingsSchema = Yup.object().shape({\r\n  time: Yup.number()\r\n    .min(2)\r\n    .max(1000)\r\n    .required('Required'),\r\n  dataPoints: Yup.number()\r\n    .min(2)\r\n    .max(5000)\r\n    .required('Required'),\r\n})\r\n\r\nfunction SettingsPanel() {\r\n  const { simulate, setIcmin, setIcmax } = useStoreActions(\r\n    actions => actions.simulationTab\r\n  )\r\n  const { icmin, icmax } = useStoreState(state => state.simulationTab)\r\n\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n          Settings\r\n        </h4>\r\n        <Formik\r\n          initialValues={{\r\n            time: 0,\r\n            dataPoints: 500,\r\n            icmin,\r\n            icmax,\r\n          }}\r\n          validationSchema={settingsSchema}\r\n          onSubmit={async (values, actions) => {\r\n            try {\r\n              await simulate({\r\n                time: values.time,\r\n                dataPoints: values.dataPoints,\r\n              })\r\n            } catch (err) {\r\n              toast.error(err.message)\r\n            }\r\n            actions.setSubmitting(false)\r\n          }}\r\n          render={({ handleSubmit, isSubmitting, errors, setFieldValue }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <FormGroup row>\r\n                <Label for=\"time\" sm={5}>\r\n                  Time:\r\n                </Label>\r\n                <Col sm={7}>\r\n                  <Field\r\n                    className={`form-control ${\r\n                      errors.time ? 'is-invalid' : ''\r\n                    }`}\r\n                    type=\"number\"\r\n                    name=\"time\"\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Label for=\"dataPoints\" sm={5}>\r\n                  Data Points:\r\n                </Label>\r\n                <Col sm={7}>\r\n                  <Field\r\n                    className={`form-control ${\r\n                      errors.dataPoints ? 'is-invalid' : ''\r\n                    }`}\r\n                    type=\"number\"\r\n                    name=\"dataPoints\"\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Label for=\"icmin\" sm={5}>\r\n                  IC Min:\r\n                </Label>\r\n                <Col sm={7}>\r\n                  <Field\r\n                    className=\"form-control\"\r\n                    type=\"number\"\r\n                    name=\"icmin\"\r\n                    onChange={e => {\r\n                      setFieldValue('icmin', e.target.value)\r\n                      setIcmin(Number(e.target.value))\r\n                    }}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Label for=\"icmax\" sm={5}>\r\n                  IC Max:\r\n                </Label>\r\n                <Col sm={7}>\r\n                  <Field\r\n                    className=\"form-control\"\r\n                    type=\"number\"\r\n                    name=\"icmax\"\r\n                    onChange={e => {\r\n                      setFieldValue('icmax', e.target.value)\r\n                      setIcmax(Number(e.target.value))\r\n                    }}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <Button\r\n                type=\"submit\"\r\n                loading={isSubmitting}\r\n                className=\"btn btn-success\"\r\n              >\r\n                Run\r\n              </Button>\r\n            </Form>\r\n          )}\r\n        />\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default SettingsPanel\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport { useStoreState } from 'easy-peasy'\r\n\r\nfunction Plot() {\r\n  const data = useStoreState(state => state.simulationTab)\r\n  const modelMetadata = useStoreState(state => state.modelMetadata)\r\n\r\n  React.useEffect(() => {\r\n    let newReactions = []\r\n    data.reactions.forEach(reaction => {\r\n      if (reaction.checked === true) {\r\n        if (reaction.ratelaw === '') {\r\n          newReactions.push({ ...reaction, ratelaw: data.globalRatelaw })\r\n        } else newReactions.push(reaction)\r\n      }\r\n    })\r\n    const modelData = {\r\n      ...modelMetadata,\r\n      reactions: newReactions,\r\n      metabolites: data.metabolites,\r\n    }\r\n    const dataString =\r\n      'data:text/json;charset=utf-8,' +\r\n      encodeURIComponent(JSON.stringify(modelData))\r\n    const exportAnchorElement = document.getElementById('exportAnchorElement')\r\n    exportAnchorElement.setAttribute('href', dataString)\r\n    exportAnchorElement.setAttribute('download', 'model.json')\r\n  })\r\n\r\n  if (data.graphData) {\r\n    return (\r\n      <div>\r\n        <Chart\r\n          options={{\r\n            chart: {\r\n              id: 'apexchart-example',\r\n            },\r\n            xaxis: {\r\n              type: 'numeric',\r\n              tickAmount: 10,\r\n            },\r\n          }}\r\n          series={data.graphData}\r\n          type=\"line\"\r\n          width={550}\r\n          height={600}\r\n        />\r\n        <a\r\n          className=\"btn btn-dark\"\r\n          style={{ float: 'right' }}\r\n          id=\"exportAnchorElement\"\r\n          href=\"/\"\r\n        >\r\n          Export Data\r\n        </a>\r\n      </div>\r\n    )\r\n  } else return <div />\r\n}\r\n\r\nexport default Plot\r\n","import React from 'react'\r\nimport { CustomInput } from 'reactstrap'\r\n\r\nfunction CustomSwitch({ metaboliteId, toggle }) {\r\n  const [switched, setSwitched] = React.useState(true)\r\n\r\n  return (\r\n    <CustomInput\r\n      type=\"switch\"\r\n      id={metaboliteId}\r\n      onChange={e => {\r\n        setSwitched(s => !s)\r\n        toggle(metaboliteId)\r\n      }}\r\n      checked={switched}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CustomSwitch\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport { Card, CardBody, Table } from 'reactstrap'\r\nimport Slider from 'rc-slider'\r\nimport 'rc-slider/assets/index.css'\r\nimport CustomSwitch from './CustomSwitch'\r\n\r\nconst CSlider = Slider.createSliderWithTooltip(Slider)\r\n\r\nfunction MetabolitesPanel() {\r\n  const { metabolites, icstep, icmin, icmax } = useStoreState(\r\n    state => state.simulationTab\r\n  )\r\n\r\n  const { toggleMetabolite, updateIc } = useStoreActions(\r\n    actions => actions.simulationTab\r\n  )\r\n\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n          Metabolites\r\n        </h4>\r\n        <div style={{ overflowY: 'scroll', height: 255 }}>\r\n          <Table borderless hover>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Initial Concentration</th>\r\n                <th>Show in graph</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {metabolites.map(metabolite => (\r\n                <tr key={metabolite.id}>\r\n                  <th>{metabolite.id}</th>\r\n                  <th>\r\n                    <CSlider\r\n                      style={{ width: 200 }}\r\n                      step={icstep}\r\n                      min={icmin}\r\n                      max={icmax}\r\n                      onChange={value => {\r\n                        updateIc({\r\n                          id: metabolite.id,\r\n                          initialConcentration: value,\r\n                        })\r\n                      }}\r\n                    />\r\n                  </th>\r\n                  <th>\r\n                    <CustomSwitch\r\n                      metaboliteId={metabolite.id}\r\n                      toggle={toggleMetabolite}\r\n                    />\r\n                  </th>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default MetabolitesPanel\r\n","import React from 'react'\r\nimport { Button, Label } from 'reactstrap'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport { useStoreActions } from 'easy-peasy'\r\n\r\nfunction RatelawForm({ ratelaw, reaction, closeModal }) {\r\n  const { setRatelaw } = useStoreActions(actions => actions.simulationTab)\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          k1: 0,\r\n          k2: 0,\r\n        }}\r\n        onSubmit={async (values, actions) => {\r\n          let parameters = values\r\n          let parametersArr = []\r\n          for (let property in parameters) {\r\n            if (parameters.hasOwnProperty(property)) {\r\n              parametersArr.push(parameters[property])\r\n            }\r\n          }\r\n          setRatelaw({\r\n            id: reaction.id,\r\n            ratelaw,\r\n            parameters: parametersArr,\r\n          })\r\n          closeModal()\r\n        }}\r\n        render={({ handleSubmit }) => (\r\n          <Form onSubmit={handleSubmit}>\r\n            {ratelaw === 'mass-action' && reaction.reversible ? (\r\n              <React.Fragment>\r\n                <Label>Forward Parameter (k1):</Label>\r\n                <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n                <Label>Backward Parameter (k2):</Label>\r\n                <Field className=\"form-control\" name=\"k2\" type=\"number\" />\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <Label>Parameter (k1):</Label>\r\n                <Field className=\"form-control\" name=\"k1\" type=\"number\" />\r\n              </React.Fragment>\r\n            )}\r\n            <br />\r\n            <Button type=\"submit\" className=\"btn btn-success\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RatelawForm\r\n","import React from 'react'\r\nimport { useStoreState, useStoreActions } from 'easy-peasy'\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CustomInput,\r\n  Table,\r\n  Input,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n} from 'reactstrap'\r\nimport RatelawForm from './RatelawForm'\r\n\r\nfunction ReactionsPanel() {\r\n  const [modal, setModal] = React.useState(false)\r\n  const [reaction, setReaction] = React.useState({})\r\n  const [ratelaw, setRatelaw] = React.useState('')\r\n\r\n  const reactions = useStoreState(\r\n    state => state.modelTab.currentModel.reactions\r\n  )\r\n\r\n  const { switchReaction } = useStoreActions(actions => actions.simulationTab)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        isOpen={modal}\r\n        toggle={() => {\r\n          setModal(!modal)\r\n        }}\r\n      >\r\n        <ModalHeader>Set Ratelaw</ModalHeader>\r\n        <ModalBody>\r\n          <RatelawForm\r\n            ratelaw={ratelaw}\r\n            reaction={reaction}\r\n            closeModal={() => setModal(false)}\r\n          />\r\n        </ModalBody>\r\n      </Modal>\r\n      <Card>\r\n        <CardBody>\r\n          <h4 className=\"text-muted\" style={{ marginBottom: 20 }}>\r\n            Reactions\r\n          </h4>\r\n          <div style={{ overflowY: 'auto', maxHeight: 200 }}>\r\n            <Table borderless hover>\r\n              <thead>\r\n                <tr>\r\n                  <th>Toggle</th>\r\n                  <th>Reaction String</th>\r\n                  <th>Ratelaw</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {reactions.map(reaction => (\r\n                  <tr key={reaction.id}>\r\n                    <th>\r\n                      <CustomInput\r\n                        type=\"switch\"\r\n                        id={reaction.id}\r\n                        onChange={() => {\r\n                          switchReaction(reaction)\r\n                        }}\r\n                      />\r\n                    </th>\r\n\r\n                    <th>\r\n                      {reaction.id}: {reaction.reactionString}\r\n                    </th>\r\n                    <th>\r\n                      <Input\r\n                        onChange={e => {\r\n                          if (!(e.target.value === '')) setModal(!modal)\r\n                          setRatelaw(e.target.value)\r\n                          setReaction(reaction)\r\n                        }}\r\n                        type=\"select\"\r\n                      >\r\n                        <option value=\"\">Set a ratelaw!</option>\r\n                        <option value=\"mass-action\">Mass Action</option>\r\n                      </Input>\r\n                    </th>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ReactionsPanel\r\n","import React from 'react'\r\nimport SettingsPanel from './SettingsPanel'\r\nimport Plot from './Plot'\r\nimport MetabolitesPanel from './MetabolitesPanel'\r\nimport ReactionsPanel from './ReactionsPanel'\r\nimport GridLayout from 'react-grid-layout'\r\n\r\nfunction SimulationTab() {\r\n  let layout = [\r\n    { i: 'a', x: 0, y: 0, w: 3, h: 7 },\r\n    { i: 'b', x: 3, y: 0, w: 4, h: 7 },\r\n    { i: 'c', x: 7, y: 0, w: 5, h: 15 },\r\n    { i: 'd', x: 0, y: 8, w: 7, h: 6 },\r\n  ]\r\n  return (\r\n    <GridLayout\r\n      isDraggable={false}\r\n      className=\"layout\"\r\n      layout={layout}\r\n      cols={12}\r\n      items={4}\r\n      rowHeight={40}\r\n      width={1500}\r\n      onLayoutChange={() => {}}\r\n      autoSize={false}\r\n    >\r\n      <div key=\"a\">\r\n        <SettingsPanel />\r\n      </div>\r\n      <div key=\"b\">\r\n        <MetabolitesPanel />\r\n      </div>\r\n      <div key=\"c\">\r\n        <Plot />\r\n      </div>\r\n      <div key=\"d\">\r\n        <ReactionsPanel />\r\n      </div>\r\n    </GridLayout>\r\n  )\r\n}\r\n\r\nexport default SimulationTab\r\n","import React from 'react'\r\nimport { HashRouter, Switch, Route } from 'react-router-dom'\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport NavBar from './components/NavBar'\r\nimport ImportSbmlForm from './components/ImportSbmlForm'\r\nimport SavedModels from './components/SavedModels'\r\nimport ModelTab from './components/ModelTab'\r\nimport SimulationTab from './components/SimulationTab/'\r\n\r\ntoast.configure({\r\n  position: toast.POSITION.BOTTOM_RIGHT,\r\n  autoClose: 2000,\r\n})\r\n\r\nfunction App() {\r\n  const [importModal, setImportModal] = React.useState(false)\r\n  const [savedModal, setSavedModal] = React.useState(false)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <HashRouter>\r\n        <NavBar\r\n          importModel={() => setImportModal(!importModal)}\r\n          savedModels={() => setSavedModal(!importModal)}\r\n        />\r\n        <Modal isOpen={importModal} toggle={() => setImportModal(!importModal)}>\r\n          <ModalHeader toggle={() => setImportModal(!importModal)}>\r\n            Import an existing SBML Model\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <ImportSbmlForm closeModal={() => setImportModal(!importModal)} />\r\n          </ModalBody>\r\n        </Modal>\r\n        <Modal isOpen={savedModal} toggle={() => setSavedModal(!savedModal)}>\r\n          <ModalHeader toggle={() => setSavedModal(!savedModal)}>\r\n            Saved Models\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <SavedModels />\r\n          </ModalBody>\r\n        </Modal>\r\n        <Switch>\r\n          <Route path=\"/simulation\" component={SimulationTab} />\r\n          <Route path=\"/\" component={ModelTab} />\r\n        </Switch>\r\n      </HashRouter>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { StoreProvider } from 'easy-peasy'\nimport { store } from './store'\nimport { Helmet } from 'react-helmet'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './index.scss'\n\nReactDOM.render(\n  <StoreProvider store={store}>\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>ODE-APP</title>\n    </Helmet>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}